/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/nasa/route";
exports.ids = ["app/api/nasa/route"];
exports.modules = {

/***/ "(rsc)/./app/api/nasa/route.ts":
/*!*******************************!*\
  !*** ./app/api/nasa/route.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var cheerio__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cheerio */ \"(rsc)/./node_modules/cheerio/dist/esm/index.js\");\n\n\n// Simple in-memory cache for articles\nlet articleCache = null;\nconst CACHE_TTL = 5 * 60 * 1000 // 5 minutes cache\n;\n// Helper function to extract National Geographic images (based on Python scraper)\nfunction extractNatGeoImages(html) {\n    const $ = cheerio__WEBPACK_IMPORTED_MODULE_1__.load(html);\n    const imageUrls = [];\n    const divs = $('div.BackgroundImage.BackgroundImage--zoom.PromoTile__Header__Image');\n    divs.each((_, div)=>{\n        const style = $(div).attr('style') || '';\n        const match = style.match(/background-image:\\s*url\\(\"([^\"]+)\"\\)/);\n        if (match && match[1]) {\n            let imgSrc = match[1];\n            if (imgSrc.startsWith('//')) {\n                imgSrc = `https:${imgSrc}`;\n            } else if (imgSrc.startsWith('/')) {\n                imgSrc = `https://www.nationalgeographic.com${imgSrc}`;\n            }\n            imageUrls.push(imgSrc);\n        }\n    });\n    return imageUrls;\n}\nfunction generateIdFromLink(link) {\n    try {\n        return encodeURIComponent(link);\n    } catch  {\n        return Math.random().toString(36).slice(2);\n    }\n}\nasync function scrapeNasaNews(year = 2025) {\n    const url = `https://www.nasa.gov/${year}-news-releases/`;\n    const headers = {\n        \"user-agent\": \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36\",\n        accept: \"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8\",\n        \"accept-language\": \"en-US,en;q=0.5\",\n        \"accept-encoding\": \"gzip, deflate, br\",\n        referer: \"https://www.google.com/\",\n        \"sec-fetch-dest\": \"document\",\n        \"sec-fetch-mode\": \"navigate\",\n        \"sec-fetch-site\": \"cross-site\",\n        \"upgrade-insecure-requests\": \"1\"\n    };\n    try {\n        console.log(`Scraping NASA news: ${url}`);\n        const res = await fetch(url, {\n            headers,\n            cache: \"no-store\"\n        });\n        if (!res.ok) {\n            throw new Error(`Failed to fetch NASA news: ${res.status}`);\n        }\n        const html = await res.text();\n        if (!html || html.length < 100) {\n            throw new Error(\"Empty response from NASA\");\n        }\n        const $ = cheerio__WEBPACK_IMPORTED_MODULE_1__.load(html);\n        const results = [];\n        // Find each article block using NASA's structure\n        for(let i = 0; i < $('div.hds-content-item').length; i++){\n            const item = $('div.hds-content-item').eq(i);\n            const $item = $(item);\n            const inner = $item.find('div.hds-content-item-inner');\n            if (inner.length === 0) continue;\n            // Debug: Log basic info for first few items\n            if (results.length < 2) {\n                console.log(`NASA Item ${results.length + 1} - Found article structure`);\n            }\n            // Extract the link\n            const linkEl = inner.find('a.hds-content-item-heading[href]');\n            // Extract the title\n            const titleEl = inner.find('div.hds-a11y-heading-22');\n            if (linkEl.length > 0 && titleEl.length > 0) {\n                let link = linkEl.attr('href') || '';\n                let title = titleEl.text().trim();\n                if (title && link) {\n                    // Ensure absolute URL\n                    if (link.startsWith(\"/\")) {\n                        link = `https://www.nasa.gov${link}`;\n                    } else if (!link.startsWith(\"http\")) {\n                        link = `https://www.nasa.gov/${link}`;\n                    }\n                    // Get summary from description if available\n                    const summaryEl = inner.find('div.hds-content-item-description, p');\n                    let summary = summaryEl.text().trim() || title;\n                    // Extract publication date from various possible locations\n                    let articleDate = new Date().toISOString() // fallback to current date\n                    ;\n                    // Try to find date in various formats and locations\n                    // Based on the actual NASA structure, dates are in spans with \"heading-12 text-uppercase\" classes\n                    const dateSelectors = [\n                        'span.heading-12.text-uppercase',\n                        'span[class*=\"heading-12\"]',\n                        'span[class*=\"text-uppercase\"]',\n                        'time[datetime]',\n                        '.hds-content-item-date',\n                        '.date',\n                        '.published-date',\n                        '.release-date',\n                        '[class*=\"date\"]',\n                        'span[class*=\"date\"]',\n                        '.hds-content-item-meta',\n                        '.meta',\n                        '[class*=\"meta\"]'\n                    ];\n                    // First try within the inner container\n                    for (const dateSelector of dateSelectors){\n                        const dateEl = inner.find(dateSelector).first();\n                        if (dateEl.length > 0) {\n                            // Try datetime attribute first\n                            let dateStr = dateEl.attr('datetime') || dateEl.text().trim();\n                            if (dateStr) {\n                                // Clean up the date string but preserve the NASA format\n                                dateStr = dateStr.trim();\n                                // Try to parse various date formats including NASA's \"Aug 20, 2025\" format\n                                let parsedDate = new Date(dateStr);\n                                // If direct parsing fails, try to handle NASA's specific format\n                                if (isNaN(parsedDate.getTime())) {\n                                    // Handle formats like \"Aug 20, 2025\", \"AUG 20, 2025\", etc.\n                                    const nasaDateMatch = dateStr.match(/([A-Za-z]{3})\\s+(\\d{1,2}),?\\s+(\\d{4})/i);\n                                    if (nasaDateMatch) {\n                                        const [, month, day, year] = nasaDateMatch;\n                                        parsedDate = new Date(`${month} ${day}, ${year}`);\n                                    }\n                                }\n                                if (!isNaN(parsedDate.getTime())) {\n                                    articleDate = parsedDate.toISOString();\n                                    console.log(`Found NASA date from inner selector ${dateSelector}: \"${dateStr}\" -> ${articleDate}`);\n                                    break;\n                                }\n                            }\n                        }\n                    }\n                    // If no date found in inner container, try the parent item container\n                    if (articleDate === new Date().toISOString()) {\n                        for (const dateSelector of dateSelectors){\n                            const dateEl = $item.find(dateSelector).first();\n                            if (dateEl.length > 0) {\n                                let dateStr = dateEl.attr('datetime') || dateEl.text().trim();\n                                if (dateStr) {\n                                    dateStr = dateStr.trim();\n                                    // Try to parse various date formats including NASA's \"Aug 20, 2025\" format\n                                    let parsedDate = new Date(dateStr);\n                                    // If direct parsing fails, try to handle NASA's specific format\n                                    if (isNaN(parsedDate.getTime())) {\n                                        // Handle formats like \"Aug 20, 2025\", \"AUG 20, 2025\", etc.\n                                        const nasaDateMatch = dateStr.match(/([A-Za-z]{3})\\s+(\\d{1,2}),?\\s+(\\d{4})/i);\n                                        if (nasaDateMatch) {\n                                            const [, month, day, year] = nasaDateMatch;\n                                            parsedDate = new Date(`${month} ${day}, ${year}`);\n                                        }\n                                    }\n                                    if (!isNaN(parsedDate.getTime())) {\n                                        articleDate = parsedDate.toISOString();\n                                        console.log(`Found NASA date from parent selector ${dateSelector}: \"${dateStr}\" -> ${articleDate}`);\n                                        break;\n                                    }\n                                }\n                            }\n                        }\n                    }\n                    // If still no date found, try to extract from the URL pattern\n                    if (articleDate === new Date().toISOString()) {\n                        // Try to extract date from URL pattern (e.g., /2025/01/15/article-name)\n                        const urlDateMatch = link.match(/\\/(\\d{4})\\/(\\d{1,2})\\/(\\d{1,2})\\//);\n                        if (urlDateMatch) {\n                            const [, year, month, day] = urlDateMatch;\n                            const urlDate = new Date(parseInt(year), parseInt(month) - 1, parseInt(day));\n                            if (!isNaN(urlDate.getTime())) {\n                                articleDate = urlDate.toISOString();\n                                console.log(`Found NASA date from URL: ${year}-${month}-${day} -> ${articleDate}`);\n                            }\n                        }\n                    }\n                    // If still no date, try to extract from title (sometimes contains date info)\n                    if (articleDate === new Date().toISOString()) {\n                        const titleDateMatch = title.match(/(\\d{1,2})\\/(\\d{1,2})\\/(\\d{4})|(\\d{4})-(\\d{1,2})-(\\d{1,2})/);\n                        if (titleDateMatch) {\n                            let year, month, day;\n                            if (titleDateMatch[3]) {\n                                // MM/DD/YYYY format\n                                [, month, day, year] = titleDateMatch;\n                            } else {\n                                // YYYY-MM-DD format\n                                [, , , year, month, day] = titleDateMatch;\n                            }\n                            const titleDate = new Date(parseInt(year), parseInt(month) - 1, parseInt(day));\n                            if (!isNaN(titleDate.getTime())) {\n                                articleDate = titleDate.toISOString();\n                                console.log(`Found NASA date from title: ${year}-${month}-${day} -> ${articleDate}`);\n                            }\n                        }\n                    }\n                    // If still no date found, use the year from the URL and create a reasonable date\n                    if (articleDate === new Date().toISOString()) {\n                        // Since we're scraping from /2025-news-releases/, use 2025 as the year\n                        // and create a date that's progressively older for each article\n                        const daysAgo = results.length * 2 // Each article is 2 days older than the previous\n                        ;\n                        const fallbackDate = new Date();\n                        fallbackDate.setDate(fallbackDate.getDate() - daysAgo);\n                        fallbackDate.setFullYear(year) // Use the year from the URL\n                        ;\n                        articleDate = fallbackDate.toISOString();\n                        console.log(`Using fallback NASA date for article ${results.length + 1}: ${articleDate} (${daysAgo} days ago)`);\n                    }\n                    // Try to find an image - NASA uses thumbnail links with images\n                    let imageUrl = \"/placeholder.svg\";\n                    // Debug: Check what image elements exist\n                    if (results.length < 2) {\n                        console.log(`NASA Article ${results.length + 1} - Checking for image elements:`);\n                        const thumbnailLinks = $item.find('a.hds-content-item-thumbnail');\n                        console.log(`  Thumbnail links found: ${thumbnailLinks.length}`);\n                        const allImages = $item.find('img');\n                        console.log(`  All images found: ${allImages.length}`);\n                    }\n                    // First try to find the thumbnail link structure (a.hds-content-item-thumbnail > img)\n                    const thumbnailLink = $item.find('a.hds-content-item-thumbnail');\n                    if (thumbnailLink.length > 0) {\n                        const imgEl = thumbnailLink.find('img').first();\n                        if (imgEl.length > 0) {\n                            let imgSrc = imgEl.attr('src') || imgEl.attr('data-src') || imgEl.attr('data-lazy-src');\n                            if (imgSrc) {\n                                if (imgSrc.startsWith('//')) {\n                                    imgSrc = `https:${imgSrc}`;\n                                } else if (imgSrc.startsWith('/')) {\n                                    imgSrc = `https://www.nasa.gov${imgSrc}`;\n                                }\n                                imageUrl = imgSrc;\n                                console.log(`Found NASA thumbnail image: ${imageUrl}`);\n                            }\n                        }\n                    }\n                    // If no thumbnail found, try to find any image in the inner container\n                    if (imageUrl === \"/placeholder.svg\") {\n                        const imgEl = inner.find('img').first();\n                        if (imgEl.length > 0) {\n                            let imgSrc = imgEl.attr('src') || imgEl.attr('data-src') || imgEl.attr('data-lazy-src');\n                            if (imgSrc) {\n                                if (imgSrc.startsWith('//')) {\n                                    imgSrc = `https:${imgSrc}`;\n                                } else if (imgSrc.startsWith('/')) {\n                                    imgSrc = `https://www.nasa.gov${imgSrc}`;\n                                }\n                                imageUrl = imgSrc;\n                                console.log(`Found NASA inner image: ${imageUrl}`);\n                            }\n                        }\n                    }\n                    // If still no image, try to find any image in the entire item\n                    if (imageUrl === \"/placeholder.svg\") {\n                        const imgEl = $item.find('img').first();\n                        if (imgEl.length > 0) {\n                            let imgSrc = imgEl.attr('src') || imgEl.attr('data-src') || imgEl.attr('data-lazy-src');\n                            if (imgSrc) {\n                                if (imgSrc.startsWith('//')) {\n                                    imgSrc = `https:${imgSrc}`;\n                                } else if (imgSrc.startsWith('/')) {\n                                    imgSrc = `https://www.nasa.gov${imgSrc}`;\n                                }\n                                imageUrl = imgSrc;\n                                console.log(`Found NASA item image: ${imageUrl}`);\n                            }\n                        }\n                    }\n                    // If no image found, use NASA-themed placeholder\n                    if (imageUrl === \"/placeholder.svg\") {\n                        const nasaImages = [\n                            \"https://www.nasa.gov/sites/default/files/thumbnails/image/nasa-logo-web-rgb.png\",\n                            \"https://www.nasa.gov/sites/default/files/thumbnails/image/iss_crew_photo.jpg\",\n                            \"https://www.nasa.gov/sites/default/files/thumbnails/image/artemis_mission.jpg\",\n                            \"https://www.nasa.gov/sites/default/files/thumbnails/image/mars_rover.jpg\",\n                            \"https://www.nasa.gov/sites/default/files/thumbnails/image/space_station.jpg\"\n                        ];\n                        imageUrl = nasaImages[Math.floor(Math.random() * nasaImages.length)];\n                    }\n                    // Create the article object first\n                    const article = {\n                        id: generateIdFromLink(link),\n                        title: title.slice(0, 200),\n                        summary: summary.slice(0, 300) || title.slice(0, 300),\n                        content: `Read the full NASA article: ${link}`,\n                        imageUrl: imageUrl,\n                        date: articleDate,\n                        source: \"NASA\"\n                    };\n                    // Try to fetch the individual article page to get the actual date\n                    try {\n                        console.log(`Fetching individual NASA article for date: ${link}`);\n                        const articleResponse = await fetch(link, {\n                            headers: {\n                                \"user-agent\": \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36\",\n                                accept: \"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8\",\n                                \"accept-language\": \"en-US,en;q=0.5\",\n                                \"accept-encoding\": \"gzip, deflate, br\",\n                                referer: \"https://www.nasa.gov/\",\n                                \"sec-fetch-dest\": \"document\",\n                                \"sec-fetch-mode\": \"navigate\",\n                                \"sec-fetch-site\": \"same-origin\",\n                                \"upgrade-insecure-requests\": \"1\"\n                            },\n                            cache: \"no-store\"\n                        });\n                        if (articleResponse.ok) {\n                            const articleHtml = await articleResponse.text();\n                            const $article = cheerio__WEBPACK_IMPORTED_MODULE_1__.load(articleHtml);\n                            // Look for the date in the individual article page\n                            const dateSelectors = [\n                                'span.heading-12.text-uppercase',\n                                'span[class*=\"heading-12\"]',\n                                'span[class*=\"text-uppercase\"]',\n                                'time[datetime]',\n                                '.article-date',\n                                '.publish-date',\n                                '.release-date',\n                                '[class*=\"date\"]'\n                            ];\n                            for (const dateSelector of dateSelectors){\n                                const dateEl = $article(dateSelector).first();\n                                if (dateEl.length > 0) {\n                                    let dateStr = dateEl.attr('datetime') || dateEl.text().trim();\n                                    if (dateStr) {\n                                        dateStr = dateStr.trim();\n                                        // Try to parse NASA's date format \"Sep 12, 2025\"\n                                        let parsedDate = new Date(dateStr);\n                                        if (isNaN(parsedDate.getTime())) {\n                                            const nasaDateMatch = dateStr.match(/([A-Za-z]{3})\\s+(\\d{1,2}),?\\s+(\\d{4})/i);\n                                            if (nasaDateMatch) {\n                                                const [, month, day, year] = nasaDateMatch;\n                                                parsedDate = new Date(`${month} ${day}, ${year}`);\n                                            }\n                                        }\n                                        if (!isNaN(parsedDate.getTime())) {\n                                            article.date = parsedDate.toISOString();\n                                            console.log(`Found actual NASA date from individual article: \"${dateStr}\" -> ${article.date}`);\n                                            break;\n                                        }\n                                    }\n                                }\n                            }\n                            // Also try to get a better image from the individual article page\n                            if (article.imageUrl === \"/placeholder.svg\" || article.imageUrl.includes('nasa-logo-web-rgb.png')) {\n                                const imageSelectors = [\n                                    '.article-hero img',\n                                    '.featured-image img',\n                                    '.article-image img',\n                                    'figure img',\n                                    'article img',\n                                    'img[src*=\"nasa.gov\"]'\n                                ];\n                                for (const imgSelector of imageSelectors){\n                                    const imgEl = $article(imgSelector).first();\n                                    if (imgEl.length > 0) {\n                                        let imgSrc = imgEl.attr('src') || imgEl.attr('data-src') || imgEl.attr('data-lazy-src');\n                                        if (imgSrc) {\n                                            if (imgSrc.startsWith('//')) {\n                                                imgSrc = `https:${imgSrc}`;\n                                            } else if (imgSrc.startsWith('/')) {\n                                                imgSrc = `https://www.nasa.gov${imgSrc}`;\n                                            }\n                                            if (imgSrc.includes('nasa.gov') && !imgSrc.includes('nasa-logo-web-rgb.png')) {\n                                                article.imageUrl = imgSrc;\n                                                console.log(`Found better NASA image from individual article: ${imgSrc}`);\n                                                break;\n                                            }\n                                        }\n                                    }\n                                }\n                            }\n                        }\n                    } catch (articleError) {\n                        console.log(`Could not fetch individual NASA article for date: ${articleError}`);\n                    // Keep the fallback date\n                    }\n                    results.push(article);\n                }\n            }\n        }\n        console.log(`Found ${results.length} NASA articles`);\n        return results.slice(0, 10) // Limit to 10 articles for faster loading\n        ;\n    } catch (error) {\n        console.log(`Error fetching NASA news:`, error);\n        throw error;\n    }\n}\nasync function scrapeNatGeoSpace() {\n    const url = \"https://www.nationalgeographic.com/science/topic/space\";\n    const headers = {\n        \"user-agent\": \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36\",\n        accept: \"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8\",\n        \"accept-language\": \"en-US,en;q=0.5\",\n        \"accept-encoding\": \"gzip, deflate, br\",\n        referer: \"https://www.google.com/\",\n        \"sec-fetch-dest\": \"document\",\n        \"sec-fetch-mode\": \"navigate\",\n        \"sec-fetch-site\": \"cross-site\",\n        \"upgrade-insecure-requests\": \"1\"\n    };\n    try {\n        console.log(`Scraping National Geographic Space: ${url}`);\n        const res = await fetch(url, {\n            headers,\n            cache: \"no-store\"\n        });\n        if (!res.ok) {\n            throw new Error(`Failed to fetch National Geographic: ${res.status}`);\n        }\n        const html = await res.text();\n        if (!html || html.length < 100) {\n            throw new Error(\"Empty response from National Geographic\");\n        }\n        const $ = cheerio__WEBPACK_IMPORTED_MODULE_1__.load(html);\n        const results = [];\n        // Test the image extraction helper function\n        const extractedImages = extractNatGeoImages(html);\n        console.log(`National Geographic: Found ${extractedImages.length} images using Python-style extraction`);\n        if (extractedImages.length > 0) {\n            console.log(`Sample images: ${extractedImages.slice(0, 3).join(', ')}`);\n        }\n        // Find each article tile using National Geographic's structure\n        for(let i = 0; i < $('div.col[aria-label]').length; i++){\n            const tile = $('div.col[aria-label]').eq(i);\n            const $tile = $(tile);\n            const title = $tile.attr('aria-label')?.trim();\n            if (!title) continue;\n            // Debug: Check what link elements exist\n            if (results.length < 2) {\n                console.log(`National Geographic Article ${results.length + 1} - Checking for link elements:`);\n                const promoLinks = $tile.find('a.AnchorLink.PromoTile_Link');\n                console.log(`  PromoTile_Link found: ${promoLinks.length}`);\n                const oldPromoLinks = $tile.find('a.AnchorLink.PromoTile__Link');\n                console.log(`  PromoTile__Link found: ${oldPromoLinks.length}`);\n                const allLinks = $tile.find('a[href]');\n                console.log(`  All links found: ${allLinks.length}`);\n            }\n            // Find the promo anchor link - National Geographic uses AnchorLink PromoTile_Link\n            let linkEl = $tile.find('a.AnchorLink.PromoTile_Link[href]').first();\n            if (linkEl.length === 0) {\n                // Fallback: try the old selector\n                linkEl = $tile.find('a.AnchorLink.PromoTile__Link[href]').first();\n            }\n            if (linkEl.length === 0) {\n                // Final fallback: any anchor\n                linkEl = $tile.find('a[href]').first();\n            }\n            if (linkEl.length === 0) continue;\n            let link = linkEl.attr('href') || '';\n            if (!link) continue;\n            // Ensure absolute URL\n            if (link.startsWith('/')) {\n                link = `https://www.nationalgeographic.com${link}`;\n            } else if (!link.startsWith('http')) {\n                link = `https://www.nationalgeographic.com/${link}`;\n            }\n            // Try to find an image - National Geographic uses background images in divs\n            let imageUrl = \"/placeholder.svg\";\n            // First try to use an image from the extracted images list if available\n            if (extractedImages.length > results.length && extractedImages[results.length]) {\n                imageUrl = extractedImages[results.length];\n                console.log(`Using extracted image for National Geographic article ${results.length + 1}: ${imageUrl}`);\n            }\n            // Debug: Check what image elements exist\n            if (results.length < 2) {\n                console.log(`National Geographic Article ${results.length + 1} - Checking for image elements:`);\n                const backgroundDivs = $tile.find('div.BackgroundImage');\n                console.log(`  Background image divs found: ${backgroundDivs.length}`);\n                const specificBackgroundDivs = $tile.find('div.BackgroundImage.BackgroundImage--zoom.PromoTile__Header__Image');\n                console.log(`  PromoTile__Header__Image divs found: ${specificBackgroundDivs.length}`);\n                const altBackgroundDivs = $tile.find('div.BackgroundImage.BackgroundImage--zoom.PromoTile_Header__Image');\n                console.log(`  PromoTile_Header__Image divs found: ${altBackgroundDivs.length}`);\n                const regularImages = $tile.find('img');\n                console.log(`  Regular images found: ${regularImages.length}`);\n            }\n            // Only try to find background images if we don't already have one from extraction\n            if (imageUrl === \"/placeholder.svg\") {\n                // First try to find background images using the exact selector from the Python scraper\n                let backgroundDiv = $tile.find('div.BackgroundImage.BackgroundImage--zoom.PromoTile__Header__Image').first();\n                if (backgroundDiv.length === 0) {\n                    // Try alternative selector with single underscore\n                    backgroundDiv = $tile.find('div.BackgroundImage.BackgroundImage--zoom.PromoTile_Header__Image').first();\n                }\n                if (backgroundDiv.length === 0) {\n                    // Try any BackgroundImage div with zoom\n                    backgroundDiv = $tile.find('div.BackgroundImage.BackgroundImage--zoom').first();\n                }\n                if (backgroundDiv.length === 0) {\n                    // Try any BackgroundImage div\n                    backgroundDiv = $tile.find('div.BackgroundImage').first();\n                }\n                if (backgroundDiv.length > 0) {\n                    const style = backgroundDiv.attr('style') || '';\n                    console.log(`National Geographic Article ${results.length + 1} - Background div style: ${style.substring(0, 100)}...`);\n                    // Extract background-image URL from style attribute using the exact regex from Python\n                    const bgMatch = style.match(/background-image:\\s*url\\(\"([^\"]+)\"\\)/);\n                    if (bgMatch && bgMatch[1]) {\n                        let imgSrc = bgMatch[1];\n                        if (imgSrc.startsWith('//')) {\n                            imgSrc = `https:${imgSrc}`;\n                        } else if (imgSrc.startsWith('/')) {\n                            imgSrc = `https://www.nationalgeographic.com${imgSrc}`;\n                        }\n                        imageUrl = imgSrc;\n                        console.log(`Found National Geographic background image: ${imageUrl}`);\n                    } else {\n                        console.log(`No background-image URL found in style: ${style}`);\n                    }\n                }\n            }\n            // Fallback: try to find any div with background-image style\n            if (imageUrl === \"/placeholder.svg\") {\n                $tile.find('div[style*=\"background-image\"]').each((_, div)=>{\n                    const $div = $(div);\n                    const style = $div.attr('style') || '';\n                    // Use the exact regex pattern from the Python scraper\n                    const bgMatch = style.match(/background-image:\\s*url\\(\"([^\"]+)\"\\)/);\n                    if (bgMatch && bgMatch[1]) {\n                        let imgSrc = bgMatch[1];\n                        if (imgSrc.startsWith('//')) {\n                            imgSrc = `https:${imgSrc}`;\n                        } else if (imgSrc.startsWith('/')) {\n                            imgSrc = `https://www.nationalgeographic.com${imgSrc}`;\n                        }\n                        imageUrl = imgSrc;\n                        console.log(`Found National Geographic background image from fallback div: ${imageUrl}`);\n                        return false // Break the loop\n                        ;\n                    }\n                });\n            }\n            // Final fallback: try regular img elements\n            if (imageUrl === \"/placeholder.svg\") {\n                const imgEl = $tile.find('img').first();\n                if (imgEl.length > 0) {\n                    let imgSrc = imgEl.attr('src') || imgEl.attr('data-src') || imgEl.attr('data-lazy-src');\n                    if (imgSrc) {\n                        if (imgSrc.startsWith('//')) {\n                            imgSrc = `https:${imgSrc}`;\n                        } else if (imgSrc.startsWith('/')) {\n                            imgSrc = `https://www.nationalgeographic.com${imgSrc}`;\n                        }\n                        imageUrl = imgSrc;\n                        console.log(`Found National Geographic regular image: ${imageUrl}`);\n                    }\n                }\n            }\n            // If no image found, use National Geographic-themed placeholder\n            if (imageUrl === \"/placeholder.svg\") {\n                const natgeoImages = [\n                    \"https://www.nationalgeographic.com/content/dam/ngdotcom/rights-exports/homepage/2023/ng-logo-2fl.png\",\n                    \"https://www.nationalgeographic.com/content/dam/ngdotcom/rights-exports/homepage/2023/space-hero.jpg\",\n                    \"https://www.nationalgeographic.com/content/dam/ngdotcom/rights-exports/homepage/2023/astronomy-hero.jpg\",\n                    \"https://www.nationalgeographic.com/content/dam/ngdotcom/rights-exports/homepage/2023/earth-hero.jpg\"\n                ];\n                imageUrl = natgeoImages[Math.floor(Math.random() * natgeoImages.length)];\n            }\n            // Try to get a better date by fetching the individual article\n            let articleDate = new Date().toISOString();\n            try {\n                console.log(`Fetching individual National Geographic article for date: ${link}`);\n                const articleResponse = await fetch(link, {\n                    headers: {\n                        \"user-agent\": \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36\",\n                        accept: \"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8\",\n                        \"accept-language\": \"en-US,en;q=0.5\",\n                        \"accept-encoding\": \"gzip, deflate, br\",\n                        referer: \"https://www.nationalgeographic.com/\",\n                        \"sec-fetch-dest\": \"document\",\n                        \"sec-fetch-mode\": \"navigate\",\n                        \"sec-fetch-site\": \"same-origin\",\n                        \"upgrade-insecure-requests\": \"1\"\n                    },\n                    cache: \"no-store\"\n                });\n                if (articleResponse.ok) {\n                    const articleHtml = await articleResponse.text();\n                    const $article = cheerio__WEBPACK_IMPORTED_MODULE_1__.load(articleHtml);\n                    // Look for date in National Geographic articles\n                    // Based on the structure shown, dates are in divs with multiple classes\n                    // Debug: Log what we're looking for\n                    if (results.length < 2) {\n                        console.log(`National Geographic Article ${results.length + 1} - Checking for date elements`);\n                    }\n                    const dateSelectors = [\n                        'time[datetime]',\n                        '.article-date',\n                        '.publish-date',\n                        '.byline-date',\n                        '[data-testid=\"PublishDate\"]',\n                        '.timestamp',\n                        '.date',\n                        // National Geographic specific selectors based on the structure\n                        'div[class*=\"jTKbV\"][class*=\"zIIsP\"][class*=\"ZdbeE\"]',\n                        'div[class*=\"JQYD\"]',\n                        'div[class*=\"QtiLO\"]',\n                        'div[class*=\"xAPpq\"]',\n                        // More generic selectors for date-like content\n                        'div:contains(\"September\")',\n                        'div:contains(\"August\")',\n                        'div:contains(\"July\")',\n                        'div:contains(\"June\")',\n                        'div:contains(\"May\")',\n                        'div:contains(\"April\")',\n                        'div:contains(\"March\")',\n                        'div:contains(\"February\")',\n                        'div:contains(\"January\")',\n                        'div:contains(\"December\")',\n                        'div:contains(\"November\")',\n                        'div:contains(\"October\")'\n                    ];\n                    for (const dateSelector of dateSelectors){\n                        const dateEl = $article(dateSelector).first();\n                        if (dateEl.length > 0) {\n                            let dateStr = dateEl.attr('datetime') || dateEl.text().trim();\n                            if (dateStr) {\n                                // Try to parse the date string\n                                let parsedDate = new Date(dateStr);\n                                // If direct parsing fails, try to handle National Geographic's format\n                                if (isNaN(parsedDate.getTime())) {\n                                    // Handle formats like \"September 12, 2025\", \"Sep 12, 2025\", etc.\n                                    const natgeoDateMatch = dateStr.match(/([A-Za-z]+)\\s+(\\d{1,2}),?\\s+(\\d{4})/i);\n                                    if (natgeoDateMatch) {\n                                        const [, month, day, year] = natgeoDateMatch;\n                                        parsedDate = new Date(`${month} ${day}, ${year}`);\n                                    }\n                                }\n                                if (!isNaN(parsedDate.getTime())) {\n                                    articleDate = parsedDate.toISOString();\n                                    console.log(`Found National Geographic date: \"${dateStr}\" -> ${articleDate}`);\n                                    break;\n                                }\n                            }\n                        }\n                    }\n                    // If no date found with selectors, try searching for date patterns in all text\n                    if (articleDate === new Date().toISOString()) {\n                        const allText = $article('body').text();\n                        const datePatterns = [\n                            /([A-Za-z]+)\\s+(\\d{1,2}),?\\s+(\\d{4})/g,\n                            /(\\d{1,2})\\/(\\d{1,2})\\/(\\d{4})/g,\n                            /(\\d{4})-(\\d{1,2})-(\\d{1,2})/g // \"2025-09-12\"\n                        ];\n                        for (const pattern of datePatterns){\n                            const matches = allText.match(pattern);\n                            if (matches && matches.length > 0) {\n                                const dateStr = matches[0];\n                                const parsedDate = new Date(dateStr);\n                                if (!isNaN(parsedDate.getTime())) {\n                                    articleDate = parsedDate.toISOString();\n                                    console.log(`Found National Geographic date via text search: \"${dateStr}\" -> ${articleDate}`);\n                                    break;\n                                }\n                            }\n                        }\n                    }\n                    // Also try to get a better image from the individual article\n                    if (imageUrl === \"/placeholder.svg\" || imageUrl.includes('ng-logo')) {\n                        const imageSelectors = [\n                            '.article-hero img',\n                            '.featured-image img',\n                            '.article-image img',\n                            'figure img',\n                            'article img',\n                            'img[src*=\"nationalgeographic.com\"]'\n                        ];\n                        for (const imgSelector of imageSelectors){\n                            const imgEl = $article(imgSelector).first();\n                            if (imgEl.length > 0) {\n                                let imgSrc = imgEl.attr('src') || imgEl.attr('data-src') || imgEl.attr('data-lazy-src');\n                                if (imgSrc) {\n                                    if (imgSrc.startsWith('//')) {\n                                        imgSrc = `https:${imgSrc}`;\n                                    } else if (imgSrc.startsWith('/')) {\n                                        imgSrc = `https://www.nationalgeographic.com${imgSrc}`;\n                                    }\n                                    if (imgSrc.includes('nationalgeographic.com') && !imgSrc.includes('ng-logo')) {\n                                        imageUrl = imgSrc;\n                                        console.log(`Found better National Geographic image: ${imgSrc}`);\n                                        break;\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n            } catch (articleError) {\n                console.log(`Could not fetch individual National Geographic article: ${articleError}`);\n            }\n            const article = {\n                id: generateIdFromLink(link),\n                title: title.slice(0, 200),\n                summary: title.slice(0, 300),\n                content: `Read the full National Geographic article: ${link}`,\n                imageUrl: imageUrl,\n                date: articleDate,\n                source: \"National Geographic\"\n            };\n            results.push(article);\n        }\n        console.log(`Found ${results.length} National Geographic articles`);\n        return results.slice(0, 8) // Limit to 8 articles for faster loading\n        ;\n    } catch (error) {\n        console.log(`Error fetching National Geographic news:`, error);\n        throw error;\n    }\n}\nasync function scrapeSpaceNews() {\n    // Try multiple Space.com URLs\n    const urls = [\n        \"https://www.space.com/news\",\n        \"https://www.space.com/news/\",\n        \"https://www.space.com/\"\n    ];\n    const headers = {\n        \"user-agent\": \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36\",\n        accept: \"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8\",\n        \"accept-language\": \"en-US,en;q=0.5\",\n        \"accept-encoding\": \"gzip, deflate, br\",\n        referer: \"https://www.google.com/\",\n        \"sec-fetch-dest\": \"document\",\n        \"sec-fetch-mode\": \"navigate\",\n        \"sec-fetch-site\": \"cross-site\",\n        \"upgrade-insecure-requests\": \"1\"\n    };\n    for (const url of urls){\n        try {\n            console.log(`Scraping Space.com news: ${url}`);\n            const res = await fetch(url, {\n                headers,\n                cache: \"no-store\"\n            });\n            if (!res.ok) {\n                console.log(`Failed to fetch ${url}: ${res.status}`);\n                continue;\n            }\n            const html = await res.text();\n            if (!html || html.length < 100) {\n                console.log(`Empty response from ${url}`);\n                continue;\n            }\n            const $ = cheerio__WEBPACK_IMPORTED_MODULE_1__.load(html);\n            const results = [];\n            // Try multiple selectors for Space.com articles\n            const selectors = [\n                \"article\",\n                \".listingResult\",\n                \".news-item\",\n                \".article-item\",\n                \"[data-module='ArticleListItem']\",\n                \".vanilla-image-block\",\n                \".hawk-item\",\n                \".summary-item\",\n                \".entry-title\",\n                \"[class*='article']\",\n                \"[class*='post']\"\n            ];\n            for (const selector of selectors){\n                console.log(`Trying Space.com selector: ${selector} on ${url}`);\n                $(selector).each((_, el)=>{\n                    const $el = $(el);\n                    let title = \"\";\n                    let link = \"\";\n                    let summary = \"\";\n                    let imageUrl = \"/placeholder.svg\";\n                    // Method 1: Look for article title and link\n                    const titleLink = $el.find(\"h1 a, h2 a, h3 a, .article-name a, .article-link, .entry-title a\").first();\n                    if (titleLink.length > 0) {\n                        title = titleLink.text().trim();\n                        link = titleLink.attr(\"href\") || \"\";\n                    }\n                    // Method 2: Look for title in various heading tags\n                    if (!title) {\n                        const titleEl = $el.find(\"h1, h2, h3, h4, .title, [class*='title'], [class*='name'], .entry-title\").first();\n                        title = titleEl.text().trim();\n                        if (!link) {\n                            const linkEl = $el.find(\"a\").first();\n                            link = linkEl.attr(\"href\") || \"\";\n                        }\n                    }\n                    // Method 3: Check if element itself is a link\n                    if (!title && $el.is(\"a\")) {\n                        title = $el.text().trim();\n                        link = $el.attr(\"href\") || \"\";\n                    }\n                    // Extract image from various sources with more comprehensive approach\n                    const imageSelectors = [\n                        'figure[data-original]',\n                        'figure img',\n                        'img[data-original]',\n                        'img[data-src]',\n                        'img[data-lazy-src]',\n                        'img.lazy',\n                        'img[src*=\"space.com\"]',\n                        'img[src*=\"cdn.mos.cms.futurecdn.net\"]',\n                        '.article-image img',\n                        '.listing-image img',\n                        '.vanilla-image-block img',\n                        'picture img',\n                        'img[src]'\n                    ];\n                    for (const imgSelector of imageSelectors){\n                        const imgEl = $el.find(imgSelector).first();\n                        if (imgEl.length > 0) {\n                            // Try multiple data attributes and src\n                            let imgSrc = imgEl.attr('data-original') || imgEl.attr('data-src') || imgEl.attr('data-lazy-src') || imgEl.attr('srcset')?.split(' ')[0] || imgEl.attr('src') || imgEl.parent().attr('data-original');\n                            if (imgSrc) {\n                                // Clean up srcset format if present\n                                if (imgSrc.includes(' ')) {\n                                    imgSrc = imgSrc.split(' ')[0];\n                                }\n                                // Ensure absolute URL\n                                if (imgSrc.startsWith('//')) {\n                                    imgSrc = `https:${imgSrc}`;\n                                } else if (imgSrc.startsWith('/')) {\n                                    imgSrc = `https://www.space.com${imgSrc}`;\n                                }\n                                // Validate it's a proper image URL and not a placeholder\n                                if (imgSrc && !imgSrc.includes('placeholder') && !imgSrc.includes('data:image') && (imgSrc.includes('space.com') || imgSrc.includes('futurecdn.net')) && (imgSrc.includes('.jpg') || imgSrc.includes('.jpeg') || imgSrc.includes('.png') || imgSrc.includes('.webp'))) {\n                                    imageUrl = imgSrc;\n                                    break;\n                                }\n                            }\n                        }\n                    }\n                    // If no image found, assign a thematic space image based on title keywords\n                    if (imageUrl === \"/placeholder.svg\" && title) {\n                        const spaceImages = [\n                            \"https://cdn.mos.cms.futurecdn.net/YzQzNzQzNzQzNzQz-space-1.jpg\",\n                            \"https://cdn.mos.cms.futurecdn.net/YzQzNzQzNzQzNzQz-moon-1.jpg\",\n                            \"https://cdn.mos.cms.futurecdn.net/YzQzNzQzNzQzNzQz-mars-1.jpg\",\n                            \"https://cdn.mos.cms.futurecdn.net/YzQzNzQzNzQzNzQz-telescope-1.jpg\",\n                            \"https://cdn.mos.cms.futurecdn.net/YzQzNzQzNzQzNzQz-galaxy-1.jpg\",\n                            \"https://cdn.mos.cms.futurecdn.net/YzQzNzQzNzQzNzQz-rocket-1.jpg\",\n                            \"https://cdn.mos.cms.futurecdn.net/YzQzNzQzNzQzNzQz-saturn-1.jpg\" // Saturn\n                        ];\n                        const lowerTitle = title.toLowerCase();\n                        if (lowerTitle.includes('moon') || lowerTitle.includes('lunar') || lowerTitle.includes('eclipse')) {\n                            imageUrl = spaceImages[1];\n                        } else if (lowerTitle.includes('mars') || lowerTitle.includes('rover')) {\n                            imageUrl = spaceImages[2];\n                        } else if (lowerTitle.includes('webb') || lowerTitle.includes('telescope') || lowerTitle.includes('hubble')) {\n                            imageUrl = spaceImages[3];\n                        } else if (lowerTitle.includes('galaxy') || lowerTitle.includes('star') || lowerTitle.includes('dust')) {\n                            imageUrl = spaceImages[4];\n                        } else if (lowerTitle.includes('spacex') || lowerTitle.includes('rocket') || lowerTitle.includes('launch')) {\n                            imageUrl = spaceImages[5];\n                        } else if (lowerTitle.includes('saturn') || lowerTitle.includes('planet')) {\n                            imageUrl = spaceImages[6];\n                        } else {\n                            // Default to a random space image\n                            imageUrl = spaceImages[Math.floor(Math.random() * spaceImages.length)];\n                        }\n                    }\n                    // Clean up title - remove extra whitespace and metadata\n                    if (title) {\n                        title = title.replace(/\\s+/g, ' ').replace(/By\\s+.*?last updated.*$/i, '').trim();\n                        if (title.includes('Homepage') || title.includes('Video') || title.length < 10) {\n                            return; // Skip non-article content\n                        }\n                    }\n                    // Get summary/description\n                    const summaryEl = $el.find(\".summary, .description, .excerpt, p\").first();\n                    summary = summaryEl.text().trim() || title;\n                    if (title && link && title.length > 10 && !title.toLowerCase().includes('homepage')) {\n                        // Ensure absolute URL\n                        if (link.startsWith(\"/\")) {\n                            link = `https://www.space.com${link}`;\n                        } else if (!link.startsWith(\"http\")) {\n                            link = `https://www.space.com/${link}`;\n                        }\n                        const article = {\n                            id: generateIdFromLink(link),\n                            title: title.slice(0, 200),\n                            summary: summary.slice(0, 300) || title.slice(0, 300),\n                            content: `Read the full article at Space.com: ${link}`,\n                            imageUrl: imageUrl,\n                            date: new Date().toISOString(),\n                            source: \"Space.com\"\n                        };\n                        results.push(article);\n                    }\n                });\n                if (results.length > 0) {\n                    console.log(`Found ${results.length} articles with selector: ${selector} from ${url}`);\n                    return results.slice(0, 8) // Limit to 8 articles for faster loading\n                    ;\n                }\n            }\n            console.log(`No articles found at ${url}`);\n        } catch (error) {\n            console.log(`Error fetching ${url}:`, error);\n            continue;\n        }\n    }\n    throw new Error(\"Could not scrape any articles from Space.com URLs\");\n}\n// Fallback space articles in case scraping fails\nconst fallbackSpaceArticles = [\n    {\n        id: \"space-1\",\n        title: \"SpaceX Starship Successfully Completes Orbital Test Flight\",\n        summary: \"The massive rocket achieved key milestones in its journey toward Mars missions.\",\n        content: \"SpaceX's Starship has completed another successful test flight, bringing the company closer to its goal of Mars colonization. The vehicle demonstrated improved heat shield performance and landing capabilities...\",\n        imageUrl: \"https://cdn.mos.cms.futurecdn.net/placeholder-spacex-starship.jpg\",\n        date: new Date(Date.now() - Math.random() * 30 * 24 * 60 * 60 * 1000).toISOString(),\n        source: \"Space.com\"\n    },\n    {\n        id: \"space-2\",\n        title: \"Astronomers Detect Mysterious Radio Signals from Distant Galaxy\",\n        summary: \"Fast radio bursts reveal new insights about the universe's magnetic fields.\",\n        content: \"A team of astronomers has detected a series of mysterious radio signals originating from a galaxy billions of light-years away. These fast radio bursts could help scientists understand cosmic magnetism...\",\n        imageUrl: \"https://cdn.mos.cms.futurecdn.net/placeholder-radio-telescope.jpg\",\n        date: new Date(Date.now() - Math.random() * 30 * 24 * 60 * 60 * 1000).toISOString(),\n        source: \"Space.com\"\n    },\n    {\n        id: \"space-3\",\n        title: \"China's Space Station Receives New Research Modules\",\n        summary: \"Tiangong space station expands capabilities for scientific experiments.\",\n        content: \"China has successfully attached new research modules to its Tiangong space station, significantly expanding the facility's scientific capabilities for microgravity research...\",\n        imageUrl: \"https://cdn.mos.cms.futurecdn.net/placeholder-tiangong-station.jpg\",\n        date: new Date(Date.now() - Math.random() * 30 * 24 * 60 * 60 * 1000).toISOString(),\n        source: \"Space.com\"\n    },\n    {\n        id: \"space-4\",\n        title: \"Europa Clipper Mission Launches to Jupiter's Icy Moon\",\n        summary: \"NASA probe begins journey to search for signs of life in Europa's subsurface ocean.\",\n        content: \"NASA's Europa Clipper spacecraft has begun its journey to Jupiter's moon Europa, where it will investigate the moon's subsurface ocean and potential for harboring life...\",\n        imageUrl: \"https://cdn.mos.cms.futurecdn.net/placeholder-europa-clipper.jpg\",\n        date: new Date(Date.now() - Math.random() * 30 * 24 * 60 * 60 * 1000).toISOString(),\n        source: \"Space.com\"\n    },\n    {\n        id: \"space-5\",\n        title: \"Breakthrough in Fusion Rocket Technology Could Enable Faster Mars Travel\",\n        summary: \"New propulsion system could cut Mars journey time to just 3 months.\",\n        content: \"Scientists have achieved a major breakthrough in fusion rocket technology that could revolutionize space travel, potentially reducing the journey time to Mars from 9 months to just 3 months...\",\n        imageUrl: \"https://cdn.mos.cms.futurecdn.net/placeholder-fusion-rocket.jpg\",\n        date: new Date(Date.now() - Math.random() * 30 * 24 * 60 * 60 * 1000).toISOString(),\n        source: \"Space.com\"\n    }\n];\nasync function GET(request) {\n    try {\n        console.log(\"Space News API: Starting scrape attempt...\");\n        // Check cache first\n        const now = Date.now();\n        if (articleCache && now - articleCache.timestamp < CACHE_TTL) {\n            console.log(\"Returning cached articles\");\n            const oneWeekAgo = new Date();\n            oneWeekAgo.setDate(oneWeekAgo.getDate() - 7);\n            const recentArticles = articleCache.data.filter((article)=>{\n                const articleDate = new Date(article.date);\n                return articleDate >= oneWeekAgo;\n            });\n            const limitedArticles = recentArticles.slice(0, 15);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                articles: limitedArticles,\n                sources: {\n                    nasa: limitedArticles.filter((a)=>a.source === \"NASA\").length,\n                    natgeo: limitedArticles.filter((a)=>a.source === \"National Geographic\").length,\n                    space: limitedArticles.filter((a)=>a.source === \"Space.com\").length\n                },\n                cached: true,\n                filtered: {\n                    total: articleCache.data.length,\n                    recent: recentArticles.length,\n                    returned: limitedArticles.length\n                }\n            });\n        }\n        const allArticles = [];\n        let errors = [];\n        // Calculate date range for past week\n        const oneWeekAgo = new Date();\n        oneWeekAgo.setDate(oneWeekAgo.getDate() - 7);\n        const oneWeekAgoISO = oneWeekAgo.toISOString();\n        console.log(`Filtering articles from past week: ${oneWeekAgoISO} onwards`);\n        // Try to scrape NASA articles\n        try {\n            const nasaArticles = await scrapeNasaNews();\n            console.log(`NASA News API: Successfully scraped ${nasaArticles.length} articles`);\n            allArticles.push(...nasaArticles);\n        } catch (nasaError) {\n            console.log(\"NASA News API: Scraping failed:\", nasaError.message);\n            errors.push(\"NASA scraping failed\");\n        }\n        // Try to scrape National Geographic articles\n        try {\n            const natgeoArticles = await scrapeNatGeoSpace();\n            console.log(`National Geographic API: Successfully scraped ${natgeoArticles.length} articles`);\n            allArticles.push(...natgeoArticles);\n        } catch (natgeoError) {\n            console.log(\"National Geographic API: Scraping failed:\", natgeoError.message);\n            errors.push(\"National Geographic scraping failed\");\n        }\n        // Try to scrape Space.com articles\n        try {\n            const spaceArticles = await scrapeSpaceNews();\n            console.log(`Space News API: Successfully scraped ${spaceArticles.length} articles`);\n            allArticles.push(...spaceArticles);\n        } catch (spaceError) {\n            console.log(\"Space News API: Scraping failed:\", spaceError.message);\n            errors.push(\"Space.com scraping failed\");\n        }\n        // If we have articles from either source, filter and return them\n        if (allArticles.length > 0) {\n            // Filter articles to only include those from the past week\n            const recentArticles = allArticles.filter((article)=>{\n                const articleDate = new Date(article.date);\n                return articleDate >= oneWeekAgo;\n            });\n            console.log(`Filtered ${allArticles.length} articles down to ${recentArticles.length} from past week`);\n            // Sort by date (newest first)\n            recentArticles.sort((a, b)=>new Date(b.date).getTime() - new Date(a.date).getTime());\n            // Limit to top 15 articles for faster loading\n            const limitedArticles = recentArticles.slice(0, 15);\n            // Update cache\n            articleCache = {\n                data: allArticles,\n                timestamp: now\n            };\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                articles: limitedArticles,\n                sources: {\n                    nasa: limitedArticles.filter((a)=>a.source === \"NASA\").length,\n                    natgeo: limitedArticles.filter((a)=>a.source === \"National Geographic\").length,\n                    space: limitedArticles.filter((a)=>a.source === \"Space.com\").length\n                },\n                errors: errors.length > 0 ? errors : undefined,\n                filtered: {\n                    total: allArticles.length,\n                    recent: recentArticles.length,\n                    returned: limitedArticles.length\n                }\n            });\n        }\n        // If both scraping attempts failed, use fallback articles\n        console.log(\"Both scraping attempts failed, using fallback articles\");\n        const fallbackWithNote = fallbackSpaceArticles.map((article)=>({\n                ...article,\n                summary: `${article.summary} (Note: Live feeds temporarily unavailable)`\n            }));\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            articles: fallbackWithNote,\n            note: \"Using fallback space articles - live scraping temporarily unavailable\",\n            errors: errors\n        });\n    } catch (error) {\n        console.error(\"Space News API: Fatal error:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: error.message ?? \"Failed to load space articles.\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QTJDLENBQUM7WUFDMUU7UUFFQSxPQUFPdEQscURBQVlBLENBQUNpSixJQUFJLENBQUM7WUFDdkJDLFVBQVV3QjtZQUNWRSxNQUFNO1lBQ05kLFFBQVFBO1FBQ1Y7SUFFRixFQUFFLE9BQU81RCxPQUFnQjtRQUN2QmxFLFFBQVFrRSxLQUFLLENBQUMsZ0NBQWdDQTtRQUM5QyxPQUFPbEcscURBQVlBLENBQUNpSixJQUFJLENBQ3RCO1lBQUUvQyxPQUFPLE1BQWlCZ0UsT0FBTyxJQUFJO1FBQWlDLEdBQ3RFO1lBQUUzSCxRQUFRO1FBQUk7SUFFbEI7QUFDRiIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxtYWlsc1xcQ29zbWljLU5ld3MtMVxcYXN0cm8tbmV3c1xcYXBwXFxhcGlcXG5hc2FcXHJvdXRlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXNwb25zZSB9IGZyb20gXCJuZXh0L3NlcnZlclwiXG5pbXBvcnQgKiBhcyBjaGVlcmlvIGZyb20gXCJjaGVlcmlvXCJcbmltcG9ydCB0eXBlIHsgQXJ0aWNsZSB9IGZyb20gXCJAL2xpYi90eXBlc1wiXG5cbi8vIFNpbXBsZSBpbi1tZW1vcnkgY2FjaGUgZm9yIGFydGljbGVzXG5sZXQgYXJ0aWNsZUNhY2hlOiB7IGRhdGE6IEFydGljbGVbXSwgdGltZXN0YW1wOiBudW1iZXIgfSB8IG51bGwgPSBudWxsXG5jb25zdCBDQUNIRV9UVEwgPSA1ICogNjAgKiAxMDAwIC8vIDUgbWludXRlcyBjYWNoZVxuXG4vLyBIZWxwZXIgZnVuY3Rpb24gdG8gZXh0cmFjdCBOYXRpb25hbCBHZW9ncmFwaGljIGltYWdlcyAoYmFzZWQgb24gUHl0aG9uIHNjcmFwZXIpXG5mdW5jdGlvbiBleHRyYWN0TmF0R2VvSW1hZ2VzKGh0bWw6IHN0cmluZyk6IHN0cmluZ1tdIHtcbiAgY29uc3QgJCA9IGNoZWVyaW8ubG9hZChodG1sKVxuICBjb25zdCBpbWFnZVVybHM6IHN0cmluZ1tdID0gW11cbiAgXG4gIGNvbnN0IGRpdnMgPSAkKCdkaXYuQmFja2dyb3VuZEltYWdlLkJhY2tncm91bmRJbWFnZS0tem9vbS5Qcm9tb1RpbGVfX0hlYWRlcl9fSW1hZ2UnKVxuICBkaXZzLmVhY2goKF8sIGRpdikgPT4ge1xuICAgIGNvbnN0IHN0eWxlID0gJChkaXYpLmF0dHIoJ3N0eWxlJykgfHwgJydcbiAgICBjb25zdCBtYXRjaCA9IHN0eWxlLm1hdGNoKC9iYWNrZ3JvdW5kLWltYWdlOlxccyp1cmxcXChcIihbXlwiXSspXCJcXCkvKVxuICAgIGlmIChtYXRjaCAmJiBtYXRjaFsxXSkge1xuICAgICAgbGV0IGltZ1NyYyA9IG1hdGNoWzFdXG4gICAgICBpZiAoaW1nU3JjLnN0YXJ0c1dpdGgoJy8vJykpIHtcbiAgICAgICAgaW1nU3JjID0gYGh0dHBzOiR7aW1nU3JjfWBcbiAgICAgIH0gZWxzZSBpZiAoaW1nU3JjLnN0YXJ0c1dpdGgoJy8nKSkge1xuICAgICAgICBpbWdTcmMgPSBgaHR0cHM6Ly93d3cubmF0aW9uYWxnZW9ncmFwaGljLmNvbSR7aW1nU3JjfWBcbiAgICAgIH1cbiAgICAgIGltYWdlVXJscy5wdXNoKGltZ1NyYylcbiAgICB9XG4gIH0pXG4gIFxuICByZXR1cm4gaW1hZ2VVcmxzXG59XG5cbmZ1bmN0aW9uIGdlbmVyYXRlSWRGcm9tTGluayhsaW5rOiBzdHJpbmcpOiBzdHJpbmcge1xuICB0cnkge1xuICAgIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQobGluaylcbiAgfSBjYXRjaCB7XG4gICAgcmV0dXJuIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnNsaWNlKDIpXG4gIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gc2NyYXBlTmFzYU5ld3MoeWVhcjogbnVtYmVyID0gMjAyNSk6IFByb21pc2U8QXJ0aWNsZVtdPiB7XG4gIGNvbnN0IHVybCA9IGBodHRwczovL3d3dy5uYXNhLmdvdi8ke3llYXJ9LW5ld3MtcmVsZWFzZXMvYFxuICBcbiAgY29uc3QgaGVhZGVycyA9IHtcbiAgICBcInVzZXItYWdlbnRcIjpcbiAgICAgIFwiTW96aWxsYS81LjAgKE1hY2ludG9zaDsgSW50ZWwgTWFjIE9TIFggMTBfMTVfNykgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzEyMC4wLjAuMCBTYWZhcmkvNTM3LjM2XCIsXG4gICAgYWNjZXB0OiBcInRleHQvaHRtbCxhcHBsaWNhdGlvbi94aHRtbCt4bWwsYXBwbGljYXRpb24veG1sO3E9MC45LGltYWdlL3dlYnAsKi8qO3E9MC44XCIsXG4gICAgXCJhY2NlcHQtbGFuZ3VhZ2VcIjogXCJlbi1VUyxlbjtxPTAuNVwiLFxuICAgIFwiYWNjZXB0LWVuY29kaW5nXCI6IFwiZ3ppcCwgZGVmbGF0ZSwgYnJcIixcbiAgICByZWZlcmVyOiBcImh0dHBzOi8vd3d3Lmdvb2dsZS5jb20vXCIsXG4gICAgXCJzZWMtZmV0Y2gtZGVzdFwiOiBcImRvY3VtZW50XCIsXG4gICAgXCJzZWMtZmV0Y2gtbW9kZVwiOiBcIm5hdmlnYXRlXCIsXG4gICAgXCJzZWMtZmV0Y2gtc2l0ZVwiOiBcImNyb3NzLXNpdGVcIixcbiAgICBcInVwZ3JhZGUtaW5zZWN1cmUtcmVxdWVzdHNcIjogXCIxXCIsXG4gIH1cblxuICB0cnkge1xuICAgIGNvbnNvbGUubG9nKGBTY3JhcGluZyBOQVNBIG5ld3M6ICR7dXJsfWApXG4gICAgXG4gICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2godXJsLCB7XG4gICAgICBoZWFkZXJzLFxuICAgICAgY2FjaGU6IFwibm8tc3RvcmVcIixcbiAgICB9KVxuXG4gICAgaWYgKCFyZXMub2spIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGZldGNoIE5BU0EgbmV3czogJHtyZXMuc3RhdHVzfWApXG4gICAgfVxuXG4gICAgY29uc3QgaHRtbCA9IGF3YWl0IHJlcy50ZXh0KClcbiAgICBpZiAoIWh0bWwgfHwgaHRtbC5sZW5ndGggPCAxMDApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkVtcHR5IHJlc3BvbnNlIGZyb20gTkFTQVwiKVxuICAgIH1cblxuICAgIGNvbnN0ICQgPSBjaGVlcmlvLmxvYWQoaHRtbClcbiAgICBjb25zdCByZXN1bHRzOiBBcnRpY2xlW10gPSBbXVxuXG4gICAgLy8gRmluZCBlYWNoIGFydGljbGUgYmxvY2sgdXNpbmcgTkFTQSdzIHN0cnVjdHVyZVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgJCgnZGl2Lmhkcy1jb250ZW50LWl0ZW0nKS5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgaXRlbSA9ICQoJ2Rpdi5oZHMtY29udGVudC1pdGVtJykuZXEoaSlcbiAgICAgIGNvbnN0ICRpdGVtID0gJChpdGVtKVxuICAgICAgY29uc3QgaW5uZXIgPSAkaXRlbS5maW5kKCdkaXYuaGRzLWNvbnRlbnQtaXRlbS1pbm5lcicpXG4gICAgICBcbiAgICAgIGlmIChpbm5lci5sZW5ndGggPT09IDApIGNvbnRpbnVlXG5cbiAgICAgIC8vIERlYnVnOiBMb2cgYmFzaWMgaW5mbyBmb3IgZmlyc3QgZmV3IGl0ZW1zXG4gICAgICBpZiAocmVzdWx0cy5sZW5ndGggPCAyKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGBOQVNBIEl0ZW0gJHtyZXN1bHRzLmxlbmd0aCArIDF9IC0gRm91bmQgYXJ0aWNsZSBzdHJ1Y3R1cmVgKVxuICAgICAgfVxuXG4gICAgICAvLyBFeHRyYWN0IHRoZSBsaW5rXG4gICAgICBjb25zdCBsaW5rRWwgPSBpbm5lci5maW5kKCdhLmhkcy1jb250ZW50LWl0ZW0taGVhZGluZ1tocmVmXScpXG4gICAgICAvLyBFeHRyYWN0IHRoZSB0aXRsZVxuICAgICAgY29uc3QgdGl0bGVFbCA9IGlubmVyLmZpbmQoJ2Rpdi5oZHMtYTExeS1oZWFkaW5nLTIyJylcblxuICAgICAgaWYgKGxpbmtFbC5sZW5ndGggPiAwICYmIHRpdGxlRWwubGVuZ3RoID4gMCkge1xuICAgICAgICBsZXQgbGluayA9IGxpbmtFbC5hdHRyKCdocmVmJykgfHwgJydcbiAgICAgICAgbGV0IHRpdGxlID0gdGl0bGVFbC50ZXh0KCkudHJpbSgpXG5cbiAgICAgICAgaWYgKHRpdGxlICYmIGxpbmspIHtcbiAgICAgICAgICAvLyBFbnN1cmUgYWJzb2x1dGUgVVJMXG4gICAgICAgICAgaWYgKGxpbmsuc3RhcnRzV2l0aChcIi9cIikpIHtcbiAgICAgICAgICAgIGxpbmsgPSBgaHR0cHM6Ly93d3cubmFzYS5nb3Yke2xpbmt9YFxuICAgICAgICAgIH0gZWxzZSBpZiAoIWxpbmsuc3RhcnRzV2l0aChcImh0dHBcIikpIHtcbiAgICAgICAgICAgIGxpbmsgPSBgaHR0cHM6Ly93d3cubmFzYS5nb3YvJHtsaW5rfWBcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBHZXQgc3VtbWFyeSBmcm9tIGRlc2NyaXB0aW9uIGlmIGF2YWlsYWJsZVxuICAgICAgICAgIGNvbnN0IHN1bW1hcnlFbCA9IGlubmVyLmZpbmQoJ2Rpdi5oZHMtY29udGVudC1pdGVtLWRlc2NyaXB0aW9uLCBwJylcbiAgICAgICAgICBsZXQgc3VtbWFyeSA9IHN1bW1hcnlFbC50ZXh0KCkudHJpbSgpIHx8IHRpdGxlXG5cbiAgICAgICAgICAvLyBFeHRyYWN0IHB1YmxpY2F0aW9uIGRhdGUgZnJvbSB2YXJpb3VzIHBvc3NpYmxlIGxvY2F0aW9uc1xuICAgICAgICAgIGxldCBhcnRpY2xlRGF0ZSA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSAvLyBmYWxsYmFjayB0byBjdXJyZW50IGRhdGVcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBUcnkgdG8gZmluZCBkYXRlIGluIHZhcmlvdXMgZm9ybWF0cyBhbmQgbG9jYXRpb25zXG4gICAgICAgICAgLy8gQmFzZWQgb24gdGhlIGFjdHVhbCBOQVNBIHN0cnVjdHVyZSwgZGF0ZXMgYXJlIGluIHNwYW5zIHdpdGggXCJoZWFkaW5nLTEyIHRleHQtdXBwZXJjYXNlXCIgY2xhc3Nlc1xuICAgICAgICAgIGNvbnN0IGRhdGVTZWxlY3RvcnMgPSBbXG4gICAgICAgICAgICAnc3Bhbi5oZWFkaW5nLTEyLnRleHQtdXBwZXJjYXNlJywgLy8gTkFTQSdzIGFjdHVhbCBkYXRlIHN0cnVjdHVyZVxuICAgICAgICAgICAgJ3NwYW5bY2xhc3MqPVwiaGVhZGluZy0xMlwiXScsIC8vIE1vcmUgZmxleGlibGUgdmVyc2lvblxuICAgICAgICAgICAgJ3NwYW5bY2xhc3MqPVwidGV4dC11cHBlcmNhc2VcIl0nLCAvLyBFdmVuIG1vcmUgZmxleGlibGVcbiAgICAgICAgICAgICd0aW1lW2RhdGV0aW1lXScsXG4gICAgICAgICAgICAnLmhkcy1jb250ZW50LWl0ZW0tZGF0ZScsXG4gICAgICAgICAgICAnLmRhdGUnLFxuICAgICAgICAgICAgJy5wdWJsaXNoZWQtZGF0ZScsXG4gICAgICAgICAgICAnLnJlbGVhc2UtZGF0ZScsXG4gICAgICAgICAgICAnW2NsYXNzKj1cImRhdGVcIl0nLFxuICAgICAgICAgICAgJ3NwYW5bY2xhc3MqPVwiZGF0ZVwiXScsXG4gICAgICAgICAgICAnLmhkcy1jb250ZW50LWl0ZW0tbWV0YScsXG4gICAgICAgICAgICAnLm1ldGEnLFxuICAgICAgICAgICAgJ1tjbGFzcyo9XCJtZXRhXCJdJ1xuICAgICAgICAgIF1cbiAgICAgICAgICBcbiAgICAgICAgICAvLyBGaXJzdCB0cnkgd2l0aGluIHRoZSBpbm5lciBjb250YWluZXJcbiAgICAgICAgICBmb3IgKGNvbnN0IGRhdGVTZWxlY3RvciBvZiBkYXRlU2VsZWN0b3JzKSB7XG4gICAgICAgICAgICBjb25zdCBkYXRlRWwgPSBpbm5lci5maW5kKGRhdGVTZWxlY3RvcikuZmlyc3QoKVxuICAgICAgICAgICAgaWYgKGRhdGVFbC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgIC8vIFRyeSBkYXRldGltZSBhdHRyaWJ1dGUgZmlyc3RcbiAgICAgICAgICAgICAgbGV0IGRhdGVTdHIgPSBkYXRlRWwuYXR0cignZGF0ZXRpbWUnKSB8fCBkYXRlRWwudGV4dCgpLnRyaW0oKVxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgaWYgKGRhdGVTdHIpIHtcbiAgICAgICAgICAgICAgICAvLyBDbGVhbiB1cCB0aGUgZGF0ZSBzdHJpbmcgYnV0IHByZXNlcnZlIHRoZSBOQVNBIGZvcm1hdFxuICAgICAgICAgICAgICAgIGRhdGVTdHIgPSBkYXRlU3RyLnRyaW0oKVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIFRyeSB0byBwYXJzZSB2YXJpb3VzIGRhdGUgZm9ybWF0cyBpbmNsdWRpbmcgTkFTQSdzIFwiQXVnIDIwLCAyMDI1XCIgZm9ybWF0XG4gICAgICAgICAgICAgICAgbGV0IHBhcnNlZERhdGUgPSBuZXcgRGF0ZShkYXRlU3RyKVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIElmIGRpcmVjdCBwYXJzaW5nIGZhaWxzLCB0cnkgdG8gaGFuZGxlIE5BU0EncyBzcGVjaWZpYyBmb3JtYXRcbiAgICAgICAgICAgICAgICBpZiAoaXNOYU4ocGFyc2VkRGF0ZS5nZXRUaW1lKCkpKSB7XG4gICAgICAgICAgICAgICAgICAvLyBIYW5kbGUgZm9ybWF0cyBsaWtlIFwiQXVnIDIwLCAyMDI1XCIsIFwiQVVHIDIwLCAyMDI1XCIsIGV0Yy5cbiAgICAgICAgICAgICAgICAgIGNvbnN0IG5hc2FEYXRlTWF0Y2ggPSBkYXRlU3RyLm1hdGNoKC8oW0EtWmEtel17M30pXFxzKyhcXGR7MSwyfSksP1xccysoXFxkezR9KS9pKVxuICAgICAgICAgICAgICAgICAgaWYgKG5hc2FEYXRlTWF0Y2gpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgWywgbW9udGgsIGRheSwgeWVhcl0gPSBuYXNhRGF0ZU1hdGNoXG4gICAgICAgICAgICAgICAgICAgIHBhcnNlZERhdGUgPSBuZXcgRGF0ZShgJHttb250aH0gJHtkYXl9LCAke3llYXJ9YClcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgaWYgKCFpc05hTihwYXJzZWREYXRlLmdldFRpbWUoKSkpIHtcbiAgICAgICAgICAgICAgICAgIGFydGljbGVEYXRlID0gcGFyc2VkRGF0ZS50b0lTT1N0cmluZygpXG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgRm91bmQgTkFTQSBkYXRlIGZyb20gaW5uZXIgc2VsZWN0b3IgJHtkYXRlU2VsZWN0b3J9OiBcIiR7ZGF0ZVN0cn1cIiAtPiAke2FydGljbGVEYXRlfWApXG4gICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICAvLyBJZiBubyBkYXRlIGZvdW5kIGluIGlubmVyIGNvbnRhaW5lciwgdHJ5IHRoZSBwYXJlbnQgaXRlbSBjb250YWluZXJcbiAgICAgICAgICBpZiAoYXJ0aWNsZURhdGUgPT09IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBkYXRlU2VsZWN0b3Igb2YgZGF0ZVNlbGVjdG9ycykge1xuICAgICAgICAgICAgICBjb25zdCBkYXRlRWwgPSAkaXRlbS5maW5kKGRhdGVTZWxlY3RvcikuZmlyc3QoKVxuICAgICAgICAgICAgICBpZiAoZGF0ZUVsLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBsZXQgZGF0ZVN0ciA9IGRhdGVFbC5hdHRyKCdkYXRldGltZScpIHx8IGRhdGVFbC50ZXh0KCkudHJpbSgpXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgaWYgKGRhdGVTdHIpIHtcbiAgICAgICAgICAgICAgICAgIGRhdGVTdHIgPSBkYXRlU3RyLnRyaW0oKVxuICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAvLyBUcnkgdG8gcGFyc2UgdmFyaW91cyBkYXRlIGZvcm1hdHMgaW5jbHVkaW5nIE5BU0EncyBcIkF1ZyAyMCwgMjAyNVwiIGZvcm1hdFxuICAgICAgICAgICAgICAgICAgbGV0IHBhcnNlZERhdGUgPSBuZXcgRGF0ZShkYXRlU3RyKVxuICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAvLyBJZiBkaXJlY3QgcGFyc2luZyBmYWlscywgdHJ5IHRvIGhhbmRsZSBOQVNBJ3Mgc3BlY2lmaWMgZm9ybWF0XG4gICAgICAgICAgICAgICAgICBpZiAoaXNOYU4ocGFyc2VkRGF0ZS5nZXRUaW1lKCkpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEhhbmRsZSBmb3JtYXRzIGxpa2UgXCJBdWcgMjAsIDIwMjVcIiwgXCJBVUcgMjAsIDIwMjVcIiwgZXRjLlxuICAgICAgICAgICAgICAgICAgICBjb25zdCBuYXNhRGF0ZU1hdGNoID0gZGF0ZVN0ci5tYXRjaCgvKFtBLVphLXpdezN9KVxccysoXFxkezEsMn0pLD9cXHMrKFxcZHs0fSkvaSlcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5hc2FEYXRlTWF0Y2gpIHtcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCBbLCBtb250aCwgZGF5LCB5ZWFyXSA9IG5hc2FEYXRlTWF0Y2hcbiAgICAgICAgICAgICAgICAgICAgICBwYXJzZWREYXRlID0gbmV3IERhdGUoYCR7bW9udGh9ICR7ZGF5fSwgJHt5ZWFyfWApXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgaWYgKCFpc05hTihwYXJzZWREYXRlLmdldFRpbWUoKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgYXJ0aWNsZURhdGUgPSBwYXJzZWREYXRlLnRvSVNPU3RyaW5nKClcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coYEZvdW5kIE5BU0EgZGF0ZSBmcm9tIHBhcmVudCBzZWxlY3RvciAke2RhdGVTZWxlY3Rvcn06IFwiJHtkYXRlU3RyfVwiIC0+ICR7YXJ0aWNsZURhdGV9YClcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gSWYgc3RpbGwgbm8gZGF0ZSBmb3VuZCwgdHJ5IHRvIGV4dHJhY3QgZnJvbSB0aGUgVVJMIHBhdHRlcm5cbiAgICAgICAgICBpZiAoYXJ0aWNsZURhdGUgPT09IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSkge1xuICAgICAgICAgICAgLy8gVHJ5IHRvIGV4dHJhY3QgZGF0ZSBmcm9tIFVSTCBwYXR0ZXJuIChlLmcuLCAvMjAyNS8wMS8xNS9hcnRpY2xlLW5hbWUpXG4gICAgICAgICAgICBjb25zdCB1cmxEYXRlTWF0Y2ggPSBsaW5rLm1hdGNoKC9cXC8oXFxkezR9KVxcLyhcXGR7MSwyfSlcXC8oXFxkezEsMn0pXFwvLylcbiAgICAgICAgICAgIGlmICh1cmxEYXRlTWF0Y2gpIHtcbiAgICAgICAgICAgICAgY29uc3QgWywgeWVhciwgbW9udGgsIGRheV0gPSB1cmxEYXRlTWF0Y2hcbiAgICAgICAgICAgICAgY29uc3QgdXJsRGF0ZSA9IG5ldyBEYXRlKHBhcnNlSW50KHllYXIpLCBwYXJzZUludChtb250aCkgLSAxLCBwYXJzZUludChkYXkpKVxuICAgICAgICAgICAgICBpZiAoIWlzTmFOKHVybERhdGUuZ2V0VGltZSgpKSkge1xuICAgICAgICAgICAgICAgIGFydGljbGVEYXRlID0gdXJsRGF0ZS50b0lTT1N0cmluZygpXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYEZvdW5kIE5BU0EgZGF0ZSBmcm9tIFVSTDogJHt5ZWFyfS0ke21vbnRofS0ke2RheX0gLT4gJHthcnRpY2xlRGF0ZX1gKVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIElmIHN0aWxsIG5vIGRhdGUsIHRyeSB0byBleHRyYWN0IGZyb20gdGl0bGUgKHNvbWV0aW1lcyBjb250YWlucyBkYXRlIGluZm8pXG4gICAgICAgICAgaWYgKGFydGljbGVEYXRlID09PSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkpIHtcbiAgICAgICAgICAgIGNvbnN0IHRpdGxlRGF0ZU1hdGNoID0gdGl0bGUubWF0Y2goLyhcXGR7MSwyfSlcXC8oXFxkezEsMn0pXFwvKFxcZHs0fSl8KFxcZHs0fSktKFxcZHsxLDJ9KS0oXFxkezEsMn0pLylcbiAgICAgICAgICAgIGlmICh0aXRsZURhdGVNYXRjaCkge1xuICAgICAgICAgICAgICBsZXQgeWVhciwgbW9udGgsIGRheVxuICAgICAgICAgICAgICBpZiAodGl0bGVEYXRlTWF0Y2hbM10pIHtcbiAgICAgICAgICAgICAgICAvLyBNTS9ERC9ZWVlZIGZvcm1hdFxuICAgICAgICAgICAgICAgIFssIG1vbnRoLCBkYXksIHllYXJdID0gdGl0bGVEYXRlTWF0Y2hcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBZWVlZLU1NLUREIGZvcm1hdFxuICAgICAgICAgICAgICAgIFssICwgLCB5ZWFyLCBtb250aCwgZGF5XSA9IHRpdGxlRGF0ZU1hdGNoXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgY29uc3QgdGl0bGVEYXRlID0gbmV3IERhdGUocGFyc2VJbnQoeWVhciksIHBhcnNlSW50KG1vbnRoKSAtIDEsIHBhcnNlSW50KGRheSkpXG4gICAgICAgICAgICAgIGlmICghaXNOYU4odGl0bGVEYXRlLmdldFRpbWUoKSkpIHtcbiAgICAgICAgICAgICAgICBhcnRpY2xlRGF0ZSA9IHRpdGxlRGF0ZS50b0lTT1N0cmluZygpXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYEZvdW5kIE5BU0EgZGF0ZSBmcm9tIHRpdGxlOiAke3llYXJ9LSR7bW9udGh9LSR7ZGF5fSAtPiAke2FydGljbGVEYXRlfWApXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gSWYgc3RpbGwgbm8gZGF0ZSBmb3VuZCwgdXNlIHRoZSB5ZWFyIGZyb20gdGhlIFVSTCBhbmQgY3JlYXRlIGEgcmVhc29uYWJsZSBkYXRlXG4gICAgICAgICAgaWYgKGFydGljbGVEYXRlID09PSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkpIHtcbiAgICAgICAgICAgIC8vIFNpbmNlIHdlJ3JlIHNjcmFwaW5nIGZyb20gLzIwMjUtbmV3cy1yZWxlYXNlcy8sIHVzZSAyMDI1IGFzIHRoZSB5ZWFyXG4gICAgICAgICAgICAvLyBhbmQgY3JlYXRlIGEgZGF0ZSB0aGF0J3MgcHJvZ3Jlc3NpdmVseSBvbGRlciBmb3IgZWFjaCBhcnRpY2xlXG4gICAgICAgICAgICBjb25zdCBkYXlzQWdvID0gcmVzdWx0cy5sZW5ndGggKiAyIC8vIEVhY2ggYXJ0aWNsZSBpcyAyIGRheXMgb2xkZXIgdGhhbiB0aGUgcHJldmlvdXNcbiAgICAgICAgICAgIGNvbnN0IGZhbGxiYWNrRGF0ZSA9IG5ldyBEYXRlKClcbiAgICAgICAgICAgIGZhbGxiYWNrRGF0ZS5zZXREYXRlKGZhbGxiYWNrRGF0ZS5nZXREYXRlKCkgLSBkYXlzQWdvKVxuICAgICAgICAgICAgZmFsbGJhY2tEYXRlLnNldEZ1bGxZZWFyKHllYXIpIC8vIFVzZSB0aGUgeWVhciBmcm9tIHRoZSBVUkxcbiAgICAgICAgICAgIGFydGljbGVEYXRlID0gZmFsbGJhY2tEYXRlLnRvSVNPU3RyaW5nKClcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBVc2luZyBmYWxsYmFjayBOQVNBIGRhdGUgZm9yIGFydGljbGUgJHtyZXN1bHRzLmxlbmd0aCArIDF9OiAke2FydGljbGVEYXRlfSAoJHtkYXlzQWdvfSBkYXlzIGFnbylgKVxuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIFRyeSB0byBmaW5kIGFuIGltYWdlIC0gTkFTQSB1c2VzIHRodW1ibmFpbCBsaW5rcyB3aXRoIGltYWdlc1xuICAgICAgICAgIGxldCBpbWFnZVVybCA9IFwiL3BsYWNlaG9sZGVyLnN2Z1wiXG4gICAgICAgICAgXG4gICAgICAgICAgLy8gRGVidWc6IENoZWNrIHdoYXQgaW1hZ2UgZWxlbWVudHMgZXhpc3RcbiAgICAgICAgICBpZiAocmVzdWx0cy5sZW5ndGggPCAyKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgTkFTQSBBcnRpY2xlICR7cmVzdWx0cy5sZW5ndGggKyAxfSAtIENoZWNraW5nIGZvciBpbWFnZSBlbGVtZW50czpgKVxuICAgICAgICAgICAgY29uc3QgdGh1bWJuYWlsTGlua3MgPSAkaXRlbS5maW5kKCdhLmhkcy1jb250ZW50LWl0ZW0tdGh1bWJuYWlsJylcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGAgIFRodW1ibmFpbCBsaW5rcyBmb3VuZDogJHt0aHVtYm5haWxMaW5rcy5sZW5ndGh9YClcbiAgICAgICAgICAgIGNvbnN0IGFsbEltYWdlcyA9ICRpdGVtLmZpbmQoJ2ltZycpXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgICBBbGwgaW1hZ2VzIGZvdW5kOiAke2FsbEltYWdlcy5sZW5ndGh9YClcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gRmlyc3QgdHJ5IHRvIGZpbmQgdGhlIHRodW1ibmFpbCBsaW5rIHN0cnVjdHVyZSAoYS5oZHMtY29udGVudC1pdGVtLXRodW1ibmFpbCA+IGltZylcbiAgICAgICAgICBjb25zdCB0aHVtYm5haWxMaW5rID0gJGl0ZW0uZmluZCgnYS5oZHMtY29udGVudC1pdGVtLXRodW1ibmFpbCcpXG4gICAgICAgICAgaWYgKHRodW1ibmFpbExpbmsubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29uc3QgaW1nRWwgPSB0aHVtYm5haWxMaW5rLmZpbmQoJ2ltZycpLmZpcnN0KClcbiAgICAgICAgICAgIGlmIChpbWdFbC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgIGxldCBpbWdTcmMgPSBpbWdFbC5hdHRyKCdzcmMnKSB8fCBpbWdFbC5hdHRyKCdkYXRhLXNyYycpIHx8IGltZ0VsLmF0dHIoJ2RhdGEtbGF6eS1zcmMnKVxuICAgICAgICAgICAgICBpZiAoaW1nU3JjKSB7XG4gICAgICAgICAgICAgICAgaWYgKGltZ1NyYy5zdGFydHNXaXRoKCcvLycpKSB7XG4gICAgICAgICAgICAgICAgICBpbWdTcmMgPSBgaHR0cHM6JHtpbWdTcmN9YFxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaW1nU3JjLnN0YXJ0c1dpdGgoJy8nKSkge1xuICAgICAgICAgICAgICAgICAgaW1nU3JjID0gYGh0dHBzOi8vd3d3Lm5hc2EuZ292JHtpbWdTcmN9YFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpbWFnZVVybCA9IGltZ1NyY1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBGb3VuZCBOQVNBIHRodW1ibmFpbCBpbWFnZTogJHtpbWFnZVVybH1gKVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIElmIG5vIHRodW1ibmFpbCBmb3VuZCwgdHJ5IHRvIGZpbmQgYW55IGltYWdlIGluIHRoZSBpbm5lciBjb250YWluZXJcbiAgICAgICAgICBpZiAoaW1hZ2VVcmwgPT09IFwiL3BsYWNlaG9sZGVyLnN2Z1wiKSB7XG4gICAgICAgICAgICBjb25zdCBpbWdFbCA9IGlubmVyLmZpbmQoJ2ltZycpLmZpcnN0KClcbiAgICAgICAgICAgIGlmIChpbWdFbC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgIGxldCBpbWdTcmMgPSBpbWdFbC5hdHRyKCdzcmMnKSB8fCBpbWdFbC5hdHRyKCdkYXRhLXNyYycpIHx8IGltZ0VsLmF0dHIoJ2RhdGEtbGF6eS1zcmMnKVxuICAgICAgICAgICAgICBpZiAoaW1nU3JjKSB7XG4gICAgICAgICAgICAgICAgaWYgKGltZ1NyYy5zdGFydHNXaXRoKCcvLycpKSB7XG4gICAgICAgICAgICAgICAgICBpbWdTcmMgPSBgaHR0cHM6JHtpbWdTcmN9YFxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaW1nU3JjLnN0YXJ0c1dpdGgoJy8nKSkge1xuICAgICAgICAgICAgICAgICAgaW1nU3JjID0gYGh0dHBzOi8vd3d3Lm5hc2EuZ292JHtpbWdTcmN9YFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpbWFnZVVybCA9IGltZ1NyY1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBGb3VuZCBOQVNBIGlubmVyIGltYWdlOiAke2ltYWdlVXJsfWApXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gSWYgc3RpbGwgbm8gaW1hZ2UsIHRyeSB0byBmaW5kIGFueSBpbWFnZSBpbiB0aGUgZW50aXJlIGl0ZW1cbiAgICAgICAgICBpZiAoaW1hZ2VVcmwgPT09IFwiL3BsYWNlaG9sZGVyLnN2Z1wiKSB7XG4gICAgICAgICAgICBjb25zdCBpbWdFbCA9ICRpdGVtLmZpbmQoJ2ltZycpLmZpcnN0KClcbiAgICAgICAgICAgIGlmIChpbWdFbC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgIGxldCBpbWdTcmMgPSBpbWdFbC5hdHRyKCdzcmMnKSB8fCBpbWdFbC5hdHRyKCdkYXRhLXNyYycpIHx8IGltZ0VsLmF0dHIoJ2RhdGEtbGF6eS1zcmMnKVxuICAgICAgICAgICAgICBpZiAoaW1nU3JjKSB7XG4gICAgICAgICAgICAgICAgaWYgKGltZ1NyYy5zdGFydHNXaXRoKCcvLycpKSB7XG4gICAgICAgICAgICAgICAgICBpbWdTcmMgPSBgaHR0cHM6JHtpbWdTcmN9YFxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaW1nU3JjLnN0YXJ0c1dpdGgoJy8nKSkge1xuICAgICAgICAgICAgICAgICAgaW1nU3JjID0gYGh0dHBzOi8vd3d3Lm5hc2EuZ292JHtpbWdTcmN9YFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpbWFnZVVybCA9IGltZ1NyY1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBGb3VuZCBOQVNBIGl0ZW0gaW1hZ2U6ICR7aW1hZ2VVcmx9YClcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIElmIG5vIGltYWdlIGZvdW5kLCB1c2UgTkFTQS10aGVtZWQgcGxhY2Vob2xkZXJcbiAgICAgICAgICBpZiAoaW1hZ2VVcmwgPT09IFwiL3BsYWNlaG9sZGVyLnN2Z1wiKSB7XG4gICAgICAgICAgICBjb25zdCBuYXNhSW1hZ2VzID0gW1xuICAgICAgICAgICAgICBcImh0dHBzOi8vd3d3Lm5hc2EuZ292L3NpdGVzL2RlZmF1bHQvZmlsZXMvdGh1bWJuYWlscy9pbWFnZS9uYXNhLWxvZ28td2ViLXJnYi5wbmdcIixcbiAgICAgICAgICAgICAgXCJodHRwczovL3d3dy5uYXNhLmdvdi9zaXRlcy9kZWZhdWx0L2ZpbGVzL3RodW1ibmFpbHMvaW1hZ2UvaXNzX2NyZXdfcGhvdG8uanBnXCIsXG4gICAgICAgICAgICAgIFwiaHR0cHM6Ly93d3cubmFzYS5nb3Yvc2l0ZXMvZGVmYXVsdC9maWxlcy90aHVtYm5haWxzL2ltYWdlL2FydGVtaXNfbWlzc2lvbi5qcGdcIixcbiAgICAgICAgICAgICAgXCJodHRwczovL3d3dy5uYXNhLmdvdi9zaXRlcy9kZWZhdWx0L2ZpbGVzL3RodW1ibmFpbHMvaW1hZ2UvbWFyc19yb3Zlci5qcGdcIixcbiAgICAgICAgICAgICAgXCJodHRwczovL3d3dy5uYXNhLmdvdi9zaXRlcy9kZWZhdWx0L2ZpbGVzL3RodW1ibmFpbHMvaW1hZ2Uvc3BhY2Vfc3RhdGlvbi5qcGdcIlxuICAgICAgICAgICAgXVxuICAgICAgICAgICAgaW1hZ2VVcmwgPSBuYXNhSW1hZ2VzW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIG5hc2FJbWFnZXMubGVuZ3RoKV1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBDcmVhdGUgdGhlIGFydGljbGUgb2JqZWN0IGZpcnN0XG4gICAgICAgICAgY29uc3QgYXJ0aWNsZTogQXJ0aWNsZSA9IHtcbiAgICAgICAgICAgIGlkOiBnZW5lcmF0ZUlkRnJvbUxpbmsobGluayksXG4gICAgICAgICAgICB0aXRsZTogdGl0bGUuc2xpY2UoMCwgMjAwKSxcbiAgICAgICAgICAgIHN1bW1hcnk6IHN1bW1hcnkuc2xpY2UoMCwgMzAwKSB8fCB0aXRsZS5zbGljZSgwLCAzMDApLFxuICAgICAgICAgICAgY29udGVudDogYFJlYWQgdGhlIGZ1bGwgTkFTQSBhcnRpY2xlOiAke2xpbmt9YCxcbiAgICAgICAgICAgIGltYWdlVXJsOiBpbWFnZVVybCxcbiAgICAgICAgICAgIGRhdGU6IGFydGljbGVEYXRlLFxuICAgICAgICAgICAgc291cmNlOiBcIk5BU0FcIixcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBUcnkgdG8gZmV0Y2ggdGhlIGluZGl2aWR1YWwgYXJ0aWNsZSBwYWdlIHRvIGdldCB0aGUgYWN0dWFsIGRhdGVcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coYEZldGNoaW5nIGluZGl2aWR1YWwgTkFTQSBhcnRpY2xlIGZvciBkYXRlOiAke2xpbmt9YClcbiAgICAgICAgICAgIGNvbnN0IGFydGljbGVSZXNwb25zZSA9IGF3YWl0IGZldGNoKGxpbmssIHtcbiAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgIFwidXNlci1hZ2VudFwiOiBcIk1vemlsbGEvNS4wIChNYWNpbnRvc2g7IEludGVsIE1hYyBPUyBYIDEwXzE1XzcpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS8xMjAuMC4wLjAgU2FmYXJpLzUzNy4zNlwiLFxuICAgICAgICAgICAgICAgIGFjY2VwdDogXCJ0ZXh0L2h0bWwsYXBwbGljYXRpb24veGh0bWwreG1sLGFwcGxpY2F0aW9uL3htbDtxPTAuOSxpbWFnZS93ZWJwLCovKjtxPTAuOFwiLFxuICAgICAgICAgICAgICAgIFwiYWNjZXB0LWxhbmd1YWdlXCI6IFwiZW4tVVMsZW47cT0wLjVcIixcbiAgICAgICAgICAgICAgICBcImFjY2VwdC1lbmNvZGluZ1wiOiBcImd6aXAsIGRlZmxhdGUsIGJyXCIsXG4gICAgICAgICAgICAgICAgcmVmZXJlcjogXCJodHRwczovL3d3dy5uYXNhLmdvdi9cIixcbiAgICAgICAgICAgICAgICBcInNlYy1mZXRjaC1kZXN0XCI6IFwiZG9jdW1lbnRcIixcbiAgICAgICAgICAgICAgICBcInNlYy1mZXRjaC1tb2RlXCI6IFwibmF2aWdhdGVcIixcbiAgICAgICAgICAgICAgICBcInNlYy1mZXRjaC1zaXRlXCI6IFwic2FtZS1vcmlnaW5cIixcbiAgICAgICAgICAgICAgICBcInVwZ3JhZGUtaW5zZWN1cmUtcmVxdWVzdHNcIjogXCIxXCIsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIGNhY2hlOiBcIm5vLXN0b3JlXCIsXG4gICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICBpZiAoYXJ0aWNsZVJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICAgIGNvbnN0IGFydGljbGVIdG1sID0gYXdhaXQgYXJ0aWNsZVJlc3BvbnNlLnRleHQoKVxuICAgICAgICAgICAgICBjb25zdCAkYXJ0aWNsZSA9IGNoZWVyaW8ubG9hZChhcnRpY2xlSHRtbClcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIC8vIExvb2sgZm9yIHRoZSBkYXRlIGluIHRoZSBpbmRpdmlkdWFsIGFydGljbGUgcGFnZVxuICAgICAgICAgICAgICBjb25zdCBkYXRlU2VsZWN0b3JzID0gW1xuICAgICAgICAgICAgICAgICdzcGFuLmhlYWRpbmctMTIudGV4dC11cHBlcmNhc2UnLFxuICAgICAgICAgICAgICAgICdzcGFuW2NsYXNzKj1cImhlYWRpbmctMTJcIl0nLFxuICAgICAgICAgICAgICAgICdzcGFuW2NsYXNzKj1cInRleHQtdXBwZXJjYXNlXCJdJyxcbiAgICAgICAgICAgICAgICAndGltZVtkYXRldGltZV0nLFxuICAgICAgICAgICAgICAgICcuYXJ0aWNsZS1kYXRlJyxcbiAgICAgICAgICAgICAgICAnLnB1Ymxpc2gtZGF0ZScsXG4gICAgICAgICAgICAgICAgJy5yZWxlYXNlLWRhdGUnLFxuICAgICAgICAgICAgICAgICdbY2xhc3MqPVwiZGF0ZVwiXSdcbiAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgZm9yIChjb25zdCBkYXRlU2VsZWN0b3Igb2YgZGF0ZVNlbGVjdG9ycykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGVFbCA9ICRhcnRpY2xlKGRhdGVTZWxlY3RvcikuZmlyc3QoKVxuICAgICAgICAgICAgICAgIGlmIChkYXRlRWwubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgbGV0IGRhdGVTdHIgPSBkYXRlRWwuYXR0cignZGF0ZXRpbWUnKSB8fCBkYXRlRWwudGV4dCgpLnRyaW0oKVxuICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICBpZiAoZGF0ZVN0cikge1xuICAgICAgICAgICAgICAgICAgICBkYXRlU3RyID0gZGF0ZVN0ci50cmltKClcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIC8vIFRyeSB0byBwYXJzZSBOQVNBJ3MgZGF0ZSBmb3JtYXQgXCJTZXAgMTIsIDIwMjVcIlxuICAgICAgICAgICAgICAgICAgICBsZXQgcGFyc2VkRGF0ZSA9IG5ldyBEYXRlKGRhdGVTdHIpXG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNOYU4ocGFyc2VkRGF0ZS5nZXRUaW1lKCkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmFzYURhdGVNYXRjaCA9IGRhdGVTdHIubWF0Y2goLyhbQS1aYS16XXszfSlcXHMrKFxcZHsxLDJ9KSw/XFxzKyhcXGR7NH0pL2kpXG4gICAgICAgICAgICAgICAgICAgICAgaWYgKG5hc2FEYXRlTWF0Y2gpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IFssIG1vbnRoLCBkYXksIHllYXJdID0gbmFzYURhdGVNYXRjaFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VkRGF0ZSA9IG5ldyBEYXRlKGAke21vbnRofSAke2RheX0sICR7eWVhcn1gKVxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpc05hTihwYXJzZWREYXRlLmdldFRpbWUoKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICBhcnRpY2xlLmRhdGUgPSBwYXJzZWREYXRlLnRvSVNPU3RyaW5nKClcbiAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgRm91bmQgYWN0dWFsIE5BU0EgZGF0ZSBmcm9tIGluZGl2aWR1YWwgYXJ0aWNsZTogXCIke2RhdGVTdHJ9XCIgLT4gJHthcnRpY2xlLmRhdGV9YClcbiAgICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAvLyBBbHNvIHRyeSB0byBnZXQgYSBiZXR0ZXIgaW1hZ2UgZnJvbSB0aGUgaW5kaXZpZHVhbCBhcnRpY2xlIHBhZ2VcbiAgICAgICAgICAgICAgaWYgKGFydGljbGUuaW1hZ2VVcmwgPT09IFwiL3BsYWNlaG9sZGVyLnN2Z1wiIHx8IGFydGljbGUuaW1hZ2VVcmwuaW5jbHVkZXMoJ25hc2EtbG9nby13ZWItcmdiLnBuZycpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaW1hZ2VTZWxlY3RvcnMgPSBbXG4gICAgICAgICAgICAgICAgICAnLmFydGljbGUtaGVybyBpbWcnLFxuICAgICAgICAgICAgICAgICAgJy5mZWF0dXJlZC1pbWFnZSBpbWcnLFxuICAgICAgICAgICAgICAgICAgJy5hcnRpY2xlLWltYWdlIGltZycsXG4gICAgICAgICAgICAgICAgICAnZmlndXJlIGltZycsXG4gICAgICAgICAgICAgICAgICAnYXJ0aWNsZSBpbWcnLFxuICAgICAgICAgICAgICAgICAgJ2ltZ1tzcmMqPVwibmFzYS5nb3ZcIl0nXG4gICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgaW1nU2VsZWN0b3Igb2YgaW1hZ2VTZWxlY3RvcnMpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IGltZ0VsID0gJGFydGljbGUoaW1nU2VsZWN0b3IpLmZpcnN0KClcbiAgICAgICAgICAgICAgICAgIGlmIChpbWdFbC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBpbWdTcmMgPSBpbWdFbC5hdHRyKCdzcmMnKSB8fCBpbWdFbC5hdHRyKCdkYXRhLXNyYycpIHx8IGltZ0VsLmF0dHIoJ2RhdGEtbGF6eS1zcmMnKVxuICAgICAgICAgICAgICAgICAgICBpZiAoaW1nU3JjKSB7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKGltZ1NyYy5zdGFydHNXaXRoKCcvLycpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbWdTcmMgPSBgaHR0cHM6JHtpbWdTcmN9YFxuICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaW1nU3JjLnN0YXJ0c1dpdGgoJy8nKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW1nU3JjID0gYGh0dHBzOi8vd3d3Lm5hc2EuZ292JHtpbWdTcmN9YFxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoaW1nU3JjLmluY2x1ZGVzKCduYXNhLmdvdicpICYmICFpbWdTcmMuaW5jbHVkZXMoJ25hc2EtbG9nby13ZWItcmdiLnBuZycpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhcnRpY2xlLmltYWdlVXJsID0gaW1nU3JjXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgRm91bmQgYmV0dGVyIE5BU0EgaW1hZ2UgZnJvbSBpbmRpdmlkdWFsIGFydGljbGU6ICR7aW1nU3JjfWApXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gY2F0Y2ggKGFydGljbGVFcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coYENvdWxkIG5vdCBmZXRjaCBpbmRpdmlkdWFsIE5BU0EgYXJ0aWNsZSBmb3IgZGF0ZTogJHthcnRpY2xlRXJyb3J9YClcbiAgICAgICAgICAgIC8vIEtlZXAgdGhlIGZhbGxiYWNrIGRhdGVcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXN1bHRzLnB1c2goYXJ0aWNsZSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnNvbGUubG9nKGBGb3VuZCAke3Jlc3VsdHMubGVuZ3RofSBOQVNBIGFydGljbGVzYClcbiAgICByZXR1cm4gcmVzdWx0cy5zbGljZSgwLCAxMCkgLy8gTGltaXQgdG8gMTAgYXJ0aWNsZXMgZm9yIGZhc3RlciBsb2FkaW5nXG5cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmxvZyhgRXJyb3IgZmV0Y2hpbmcgTkFTQSBuZXdzOmAsIGVycm9yKVxuICAgIHRocm93IGVycm9yXG4gIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gc2NyYXBlTmF0R2VvU3BhY2UoKTogUHJvbWlzZTxBcnRpY2xlW10+IHtcbiAgY29uc3QgdXJsID0gXCJodHRwczovL3d3dy5uYXRpb25hbGdlb2dyYXBoaWMuY29tL3NjaWVuY2UvdG9waWMvc3BhY2VcIlxuICBcbiAgY29uc3QgaGVhZGVycyA9IHtcbiAgICBcInVzZXItYWdlbnRcIjpcbiAgICAgIFwiTW96aWxsYS81LjAgKE1hY2ludG9zaDsgSW50ZWwgTWFjIE9TIFggMTBfMTVfNykgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzEyMC4wLjAuMCBTYWZhcmkvNTM3LjM2XCIsXG4gICAgYWNjZXB0OiBcInRleHQvaHRtbCxhcHBsaWNhdGlvbi94aHRtbCt4bWwsYXBwbGljYXRpb24veG1sO3E9MC45LGltYWdlL3dlYnAsKi8qO3E9MC44XCIsXG4gICAgXCJhY2NlcHQtbGFuZ3VhZ2VcIjogXCJlbi1VUyxlbjtxPTAuNVwiLFxuICAgIFwiYWNjZXB0LWVuY29kaW5nXCI6IFwiZ3ppcCwgZGVmbGF0ZSwgYnJcIixcbiAgICByZWZlcmVyOiBcImh0dHBzOi8vd3d3Lmdvb2dsZS5jb20vXCIsXG4gICAgXCJzZWMtZmV0Y2gtZGVzdFwiOiBcImRvY3VtZW50XCIsXG4gICAgXCJzZWMtZmV0Y2gtbW9kZVwiOiBcIm5hdmlnYXRlXCIsXG4gICAgXCJzZWMtZmV0Y2gtc2l0ZVwiOiBcImNyb3NzLXNpdGVcIixcbiAgICBcInVwZ3JhZGUtaW5zZWN1cmUtcmVxdWVzdHNcIjogXCIxXCIsXG4gIH1cblxuICB0cnkge1xuICAgIGNvbnNvbGUubG9nKGBTY3JhcGluZyBOYXRpb25hbCBHZW9ncmFwaGljIFNwYWNlOiAke3VybH1gKVxuICAgIFxuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKHVybCwge1xuICAgICAgaGVhZGVycyxcbiAgICAgIGNhY2hlOiBcIm5vLXN0b3JlXCIsXG4gICAgfSlcblxuICAgIGlmICghcmVzLm9rKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBmZXRjaCBOYXRpb25hbCBHZW9ncmFwaGljOiAke3Jlcy5zdGF0dXN9YClcbiAgICB9XG5cbiAgICBjb25zdCBodG1sID0gYXdhaXQgcmVzLnRleHQoKVxuICAgIGlmICghaHRtbCB8fCBodG1sLmxlbmd0aCA8IDEwMCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRW1wdHkgcmVzcG9uc2UgZnJvbSBOYXRpb25hbCBHZW9ncmFwaGljXCIpXG4gICAgfVxuXG4gICAgY29uc3QgJCA9IGNoZWVyaW8ubG9hZChodG1sKVxuICAgIGNvbnN0IHJlc3VsdHM6IEFydGljbGVbXSA9IFtdXG5cbiAgICAvLyBUZXN0IHRoZSBpbWFnZSBleHRyYWN0aW9uIGhlbHBlciBmdW5jdGlvblxuICAgIGNvbnN0IGV4dHJhY3RlZEltYWdlcyA9IGV4dHJhY3ROYXRHZW9JbWFnZXMoaHRtbClcbiAgICBjb25zb2xlLmxvZyhgTmF0aW9uYWwgR2VvZ3JhcGhpYzogRm91bmQgJHtleHRyYWN0ZWRJbWFnZXMubGVuZ3RofSBpbWFnZXMgdXNpbmcgUHl0aG9uLXN0eWxlIGV4dHJhY3Rpb25gKVxuICAgIGlmIChleHRyYWN0ZWRJbWFnZXMubGVuZ3RoID4gMCkge1xuICAgICAgY29uc29sZS5sb2coYFNhbXBsZSBpbWFnZXM6ICR7ZXh0cmFjdGVkSW1hZ2VzLnNsaWNlKDAsIDMpLmpvaW4oJywgJyl9YClcbiAgICB9XG5cbiAgICAvLyBGaW5kIGVhY2ggYXJ0aWNsZSB0aWxlIHVzaW5nIE5hdGlvbmFsIEdlb2dyYXBoaWMncyBzdHJ1Y3R1cmVcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8ICQoJ2Rpdi5jb2xbYXJpYS1sYWJlbF0nKS5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgdGlsZSA9ICQoJ2Rpdi5jb2xbYXJpYS1sYWJlbF0nKS5lcShpKVxuICAgICAgY29uc3QgJHRpbGUgPSAkKHRpbGUpXG4gICAgICBjb25zdCB0aXRsZSA9ICR0aWxlLmF0dHIoJ2FyaWEtbGFiZWwnKT8udHJpbSgpXG4gICAgICBcbiAgICAgIGlmICghdGl0bGUpIGNvbnRpbnVlXG5cbiAgICAgIC8vIERlYnVnOiBDaGVjayB3aGF0IGxpbmsgZWxlbWVudHMgZXhpc3RcbiAgICAgIGlmIChyZXN1bHRzLmxlbmd0aCA8IDIpIHtcbiAgICAgICAgY29uc29sZS5sb2coYE5hdGlvbmFsIEdlb2dyYXBoaWMgQXJ0aWNsZSAke3Jlc3VsdHMubGVuZ3RoICsgMX0gLSBDaGVja2luZyBmb3IgbGluayBlbGVtZW50czpgKVxuICAgICAgICBjb25zdCBwcm9tb0xpbmtzID0gJHRpbGUuZmluZCgnYS5BbmNob3JMaW5rLlByb21vVGlsZV9MaW5rJylcbiAgICAgICAgY29uc29sZS5sb2coYCAgUHJvbW9UaWxlX0xpbmsgZm91bmQ6ICR7cHJvbW9MaW5rcy5sZW5ndGh9YClcbiAgICAgICAgY29uc3Qgb2xkUHJvbW9MaW5rcyA9ICR0aWxlLmZpbmQoJ2EuQW5jaG9yTGluay5Qcm9tb1RpbGVfX0xpbmsnKVxuICAgICAgICBjb25zb2xlLmxvZyhgICBQcm9tb1RpbGVfX0xpbmsgZm91bmQ6ICR7b2xkUHJvbW9MaW5rcy5sZW5ndGh9YClcbiAgICAgICAgY29uc3QgYWxsTGlua3MgPSAkdGlsZS5maW5kKCdhW2hyZWZdJylcbiAgICAgICAgY29uc29sZS5sb2coYCAgQWxsIGxpbmtzIGZvdW5kOiAke2FsbExpbmtzLmxlbmd0aH1gKVxuICAgICAgfVxuXG4gICAgICAvLyBGaW5kIHRoZSBwcm9tbyBhbmNob3IgbGluayAtIE5hdGlvbmFsIEdlb2dyYXBoaWMgdXNlcyBBbmNob3JMaW5rIFByb21vVGlsZV9MaW5rXG4gICAgICBsZXQgbGlua0VsID0gJHRpbGUuZmluZCgnYS5BbmNob3JMaW5rLlByb21vVGlsZV9MaW5rW2hyZWZdJykuZmlyc3QoKVxuICAgICAgaWYgKGxpbmtFbC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgLy8gRmFsbGJhY2s6IHRyeSB0aGUgb2xkIHNlbGVjdG9yXG4gICAgICAgIGxpbmtFbCA9ICR0aWxlLmZpbmQoJ2EuQW5jaG9yTGluay5Qcm9tb1RpbGVfX0xpbmtbaHJlZl0nKS5maXJzdCgpXG4gICAgICB9XG4gICAgICBpZiAobGlua0VsLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAvLyBGaW5hbCBmYWxsYmFjazogYW55IGFuY2hvclxuICAgICAgICBsaW5rRWwgPSAkdGlsZS5maW5kKCdhW2hyZWZdJykuZmlyc3QoKVxuICAgICAgfVxuICAgICAgXG4gICAgICBpZiAobGlua0VsLmxlbmd0aCA9PT0gMCkgY29udGludWVcblxuICAgICAgbGV0IGxpbmsgPSBsaW5rRWwuYXR0cignaHJlZicpIHx8ICcnXG4gICAgICBpZiAoIWxpbmspIGNvbnRpbnVlXG5cbiAgICAgIC8vIEVuc3VyZSBhYnNvbHV0ZSBVUkxcbiAgICAgIGlmIChsaW5rLnN0YXJ0c1dpdGgoJy8nKSkge1xuICAgICAgICBsaW5rID0gYGh0dHBzOi8vd3d3Lm5hdGlvbmFsZ2VvZ3JhcGhpYy5jb20ke2xpbmt9YFxuICAgICAgfSBlbHNlIGlmICghbGluay5zdGFydHNXaXRoKCdodHRwJykpIHtcbiAgICAgICAgbGluayA9IGBodHRwczovL3d3dy5uYXRpb25hbGdlb2dyYXBoaWMuY29tLyR7bGlua31gXG4gICAgICB9XG5cbiAgICAgIC8vIFRyeSB0byBmaW5kIGFuIGltYWdlIC0gTmF0aW9uYWwgR2VvZ3JhcGhpYyB1c2VzIGJhY2tncm91bmQgaW1hZ2VzIGluIGRpdnNcbiAgICAgIGxldCBpbWFnZVVybCA9IFwiL3BsYWNlaG9sZGVyLnN2Z1wiXG4gICAgICBcbiAgICAgIC8vIEZpcnN0IHRyeSB0byB1c2UgYW4gaW1hZ2UgZnJvbSB0aGUgZXh0cmFjdGVkIGltYWdlcyBsaXN0IGlmIGF2YWlsYWJsZVxuICAgICAgaWYgKGV4dHJhY3RlZEltYWdlcy5sZW5ndGggPiByZXN1bHRzLmxlbmd0aCAmJiBleHRyYWN0ZWRJbWFnZXNbcmVzdWx0cy5sZW5ndGhdKSB7XG4gICAgICAgIGltYWdlVXJsID0gZXh0cmFjdGVkSW1hZ2VzW3Jlc3VsdHMubGVuZ3RoXVxuICAgICAgICBjb25zb2xlLmxvZyhgVXNpbmcgZXh0cmFjdGVkIGltYWdlIGZvciBOYXRpb25hbCBHZW9ncmFwaGljIGFydGljbGUgJHtyZXN1bHRzLmxlbmd0aCArIDF9OiAke2ltYWdlVXJsfWApXG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIERlYnVnOiBDaGVjayB3aGF0IGltYWdlIGVsZW1lbnRzIGV4aXN0XG4gICAgICBpZiAocmVzdWx0cy5sZW5ndGggPCAyKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGBOYXRpb25hbCBHZW9ncmFwaGljIEFydGljbGUgJHtyZXN1bHRzLmxlbmd0aCArIDF9IC0gQ2hlY2tpbmcgZm9yIGltYWdlIGVsZW1lbnRzOmApXG4gICAgICAgIGNvbnN0IGJhY2tncm91bmREaXZzID0gJHRpbGUuZmluZCgnZGl2LkJhY2tncm91bmRJbWFnZScpXG4gICAgICAgIGNvbnNvbGUubG9nKGAgIEJhY2tncm91bmQgaW1hZ2UgZGl2cyBmb3VuZDogJHtiYWNrZ3JvdW5kRGl2cy5sZW5ndGh9YClcbiAgICAgICAgY29uc3Qgc3BlY2lmaWNCYWNrZ3JvdW5kRGl2cyA9ICR0aWxlLmZpbmQoJ2Rpdi5CYWNrZ3JvdW5kSW1hZ2UuQmFja2dyb3VuZEltYWdlLS16b29tLlByb21vVGlsZV9fSGVhZGVyX19JbWFnZScpXG4gICAgICAgIGNvbnNvbGUubG9nKGAgIFByb21vVGlsZV9fSGVhZGVyX19JbWFnZSBkaXZzIGZvdW5kOiAke3NwZWNpZmljQmFja2dyb3VuZERpdnMubGVuZ3RofWApXG4gICAgICAgIGNvbnN0IGFsdEJhY2tncm91bmREaXZzID0gJHRpbGUuZmluZCgnZGl2LkJhY2tncm91bmRJbWFnZS5CYWNrZ3JvdW5kSW1hZ2UtLXpvb20uUHJvbW9UaWxlX0hlYWRlcl9fSW1hZ2UnKVxuICAgICAgICBjb25zb2xlLmxvZyhgICBQcm9tb1RpbGVfSGVhZGVyX19JbWFnZSBkaXZzIGZvdW5kOiAke2FsdEJhY2tncm91bmREaXZzLmxlbmd0aH1gKVxuICAgICAgICBjb25zdCByZWd1bGFySW1hZ2VzID0gJHRpbGUuZmluZCgnaW1nJylcbiAgICAgICAgY29uc29sZS5sb2coYCAgUmVndWxhciBpbWFnZXMgZm91bmQ6ICR7cmVndWxhckltYWdlcy5sZW5ndGh9YClcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gT25seSB0cnkgdG8gZmluZCBiYWNrZ3JvdW5kIGltYWdlcyBpZiB3ZSBkb24ndCBhbHJlYWR5IGhhdmUgb25lIGZyb20gZXh0cmFjdGlvblxuICAgICAgaWYgKGltYWdlVXJsID09PSBcIi9wbGFjZWhvbGRlci5zdmdcIikge1xuICAgICAgICAvLyBGaXJzdCB0cnkgdG8gZmluZCBiYWNrZ3JvdW5kIGltYWdlcyB1c2luZyB0aGUgZXhhY3Qgc2VsZWN0b3IgZnJvbSB0aGUgUHl0aG9uIHNjcmFwZXJcbiAgICAgICAgbGV0IGJhY2tncm91bmREaXYgPSAkdGlsZS5maW5kKCdkaXYuQmFja2dyb3VuZEltYWdlLkJhY2tncm91bmRJbWFnZS0tem9vbS5Qcm9tb1RpbGVfX0hlYWRlcl9fSW1hZ2UnKS5maXJzdCgpXG4gICAgICAgIGlmIChiYWNrZ3JvdW5kRGl2Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIC8vIFRyeSBhbHRlcm5hdGl2ZSBzZWxlY3RvciB3aXRoIHNpbmdsZSB1bmRlcnNjb3JlXG4gICAgICAgICAgYmFja2dyb3VuZERpdiA9ICR0aWxlLmZpbmQoJ2Rpdi5CYWNrZ3JvdW5kSW1hZ2UuQmFja2dyb3VuZEltYWdlLS16b29tLlByb21vVGlsZV9IZWFkZXJfX0ltYWdlJykuZmlyc3QoKVxuICAgICAgICB9XG4gICAgICAgIGlmIChiYWNrZ3JvdW5kRGl2Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIC8vIFRyeSBhbnkgQmFja2dyb3VuZEltYWdlIGRpdiB3aXRoIHpvb21cbiAgICAgICAgICBiYWNrZ3JvdW5kRGl2ID0gJHRpbGUuZmluZCgnZGl2LkJhY2tncm91bmRJbWFnZS5CYWNrZ3JvdW5kSW1hZ2UtLXpvb20nKS5maXJzdCgpXG4gICAgICAgIH1cbiAgICAgICAgaWYgKGJhY2tncm91bmREaXYubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgLy8gVHJ5IGFueSBCYWNrZ3JvdW5kSW1hZ2UgZGl2XG4gICAgICAgICAgYmFja2dyb3VuZERpdiA9ICR0aWxlLmZpbmQoJ2Rpdi5CYWNrZ3JvdW5kSW1hZ2UnKS5maXJzdCgpXG4gICAgICAgIH1cbiAgICAgICAgaWYgKGJhY2tncm91bmREaXYubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGNvbnN0IHN0eWxlID0gYmFja2dyb3VuZERpdi5hdHRyKCdzdHlsZScpIHx8ICcnXG4gICAgICAgICAgY29uc29sZS5sb2coYE5hdGlvbmFsIEdlb2dyYXBoaWMgQXJ0aWNsZSAke3Jlc3VsdHMubGVuZ3RoICsgMX0gLSBCYWNrZ3JvdW5kIGRpdiBzdHlsZTogJHtzdHlsZS5zdWJzdHJpbmcoMCwgMTAwKX0uLi5gKVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIEV4dHJhY3QgYmFja2dyb3VuZC1pbWFnZSBVUkwgZnJvbSBzdHlsZSBhdHRyaWJ1dGUgdXNpbmcgdGhlIGV4YWN0IHJlZ2V4IGZyb20gUHl0aG9uXG4gICAgICAgICAgY29uc3QgYmdNYXRjaCA9IHN0eWxlLm1hdGNoKC9iYWNrZ3JvdW5kLWltYWdlOlxccyp1cmxcXChcIihbXlwiXSspXCJcXCkvKVxuICAgICAgICAgIGlmIChiZ01hdGNoICYmIGJnTWF0Y2hbMV0pIHtcbiAgICAgICAgICAgIGxldCBpbWdTcmMgPSBiZ01hdGNoWzFdXG4gICAgICAgICAgICBpZiAoaW1nU3JjLnN0YXJ0c1dpdGgoJy8vJykpIHtcbiAgICAgICAgICAgICAgaW1nU3JjID0gYGh0dHBzOiR7aW1nU3JjfWBcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaW1nU3JjLnN0YXJ0c1dpdGgoJy8nKSkge1xuICAgICAgICAgICAgICBpbWdTcmMgPSBgaHR0cHM6Ly93d3cubmF0aW9uYWxnZW9ncmFwaGljLmNvbSR7aW1nU3JjfWBcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGltYWdlVXJsID0gaW1nU3JjXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgRm91bmQgTmF0aW9uYWwgR2VvZ3JhcGhpYyBiYWNrZ3JvdW5kIGltYWdlOiAke2ltYWdlVXJsfWApXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBObyBiYWNrZ3JvdW5kLWltYWdlIFVSTCBmb3VuZCBpbiBzdHlsZTogJHtzdHlsZX1gKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBGYWxsYmFjazogdHJ5IHRvIGZpbmQgYW55IGRpdiB3aXRoIGJhY2tncm91bmQtaW1hZ2Ugc3R5bGVcbiAgICAgIGlmIChpbWFnZVVybCA9PT0gXCIvcGxhY2Vob2xkZXIuc3ZnXCIpIHtcbiAgICAgICAgJHRpbGUuZmluZCgnZGl2W3N0eWxlKj1cImJhY2tncm91bmQtaW1hZ2VcIl0nKS5lYWNoKChfLCBkaXYpID0+IHtcbiAgICAgICAgICBjb25zdCAkZGl2ID0gJChkaXYpXG4gICAgICAgICAgY29uc3Qgc3R5bGUgPSAkZGl2LmF0dHIoJ3N0eWxlJykgfHwgJydcbiAgICAgICAgICAvLyBVc2UgdGhlIGV4YWN0IHJlZ2V4IHBhdHRlcm4gZnJvbSB0aGUgUHl0aG9uIHNjcmFwZXJcbiAgICAgICAgICBjb25zdCBiZ01hdGNoID0gc3R5bGUubWF0Y2goL2JhY2tncm91bmQtaW1hZ2U6XFxzKnVybFxcKFwiKFteXCJdKylcIlxcKS8pXG4gICAgICAgICAgaWYgKGJnTWF0Y2ggJiYgYmdNYXRjaFsxXSkge1xuICAgICAgICAgICAgbGV0IGltZ1NyYyA9IGJnTWF0Y2hbMV1cbiAgICAgICAgICAgIGlmIChpbWdTcmMuc3RhcnRzV2l0aCgnLy8nKSkge1xuICAgICAgICAgICAgICBpbWdTcmMgPSBgaHR0cHM6JHtpbWdTcmN9YFxuICAgICAgICAgICAgfSBlbHNlIGlmIChpbWdTcmMuc3RhcnRzV2l0aCgnLycpKSB7XG4gICAgICAgICAgICAgIGltZ1NyYyA9IGBodHRwczovL3d3dy5uYXRpb25hbGdlb2dyYXBoaWMuY29tJHtpbWdTcmN9YFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaW1hZ2VVcmwgPSBpbWdTcmNcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBGb3VuZCBOYXRpb25hbCBHZW9ncmFwaGljIGJhY2tncm91bmQgaW1hZ2UgZnJvbSBmYWxsYmFjayBkaXY6ICR7aW1hZ2VVcmx9YClcbiAgICAgICAgICAgIHJldHVybiBmYWxzZSAvLyBCcmVhayB0aGUgbG9vcFxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gRmluYWwgZmFsbGJhY2s6IHRyeSByZWd1bGFyIGltZyBlbGVtZW50c1xuICAgICAgaWYgKGltYWdlVXJsID09PSBcIi9wbGFjZWhvbGRlci5zdmdcIikge1xuICAgICAgICBjb25zdCBpbWdFbCA9ICR0aWxlLmZpbmQoJ2ltZycpLmZpcnN0KClcbiAgICAgICAgaWYgKGltZ0VsLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBsZXQgaW1nU3JjID0gaW1nRWwuYXR0cignc3JjJykgfHwgaW1nRWwuYXR0cignZGF0YS1zcmMnKSB8fCBpbWdFbC5hdHRyKCdkYXRhLWxhenktc3JjJylcbiAgICAgICAgICBpZiAoaW1nU3JjKSB7XG4gICAgICAgICAgICBpZiAoaW1nU3JjLnN0YXJ0c1dpdGgoJy8vJykpIHtcbiAgICAgICAgICAgICAgaW1nU3JjID0gYGh0dHBzOiR7aW1nU3JjfWBcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaW1nU3JjLnN0YXJ0c1dpdGgoJy8nKSkge1xuICAgICAgICAgICAgICBpbWdTcmMgPSBgaHR0cHM6Ly93d3cubmF0aW9uYWxnZW9ncmFwaGljLmNvbSR7aW1nU3JjfWBcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGltYWdlVXJsID0gaW1nU3JjXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgRm91bmQgTmF0aW9uYWwgR2VvZ3JhcGhpYyByZWd1bGFyIGltYWdlOiAke2ltYWdlVXJsfWApXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIElmIG5vIGltYWdlIGZvdW5kLCB1c2UgTmF0aW9uYWwgR2VvZ3JhcGhpYy10aGVtZWQgcGxhY2Vob2xkZXJcbiAgICAgIGlmIChpbWFnZVVybCA9PT0gXCIvcGxhY2Vob2xkZXIuc3ZnXCIpIHtcbiAgICAgICAgY29uc3QgbmF0Z2VvSW1hZ2VzID0gW1xuICAgICAgICAgIFwiaHR0cHM6Ly93d3cubmF0aW9uYWxnZW9ncmFwaGljLmNvbS9jb250ZW50L2RhbS9uZ2RvdGNvbS9yaWdodHMtZXhwb3J0cy9ob21lcGFnZS8yMDIzL25nLWxvZ28tMmZsLnBuZ1wiLFxuICAgICAgICAgIFwiaHR0cHM6Ly93d3cubmF0aW9uYWxnZW9ncmFwaGljLmNvbS9jb250ZW50L2RhbS9uZ2RvdGNvbS9yaWdodHMtZXhwb3J0cy9ob21lcGFnZS8yMDIzL3NwYWNlLWhlcm8uanBnXCIsXG4gICAgICAgICAgXCJodHRwczovL3d3dy5uYXRpb25hbGdlb2dyYXBoaWMuY29tL2NvbnRlbnQvZGFtL25nZG90Y29tL3JpZ2h0cy1leHBvcnRzL2hvbWVwYWdlLzIwMjMvYXN0cm9ub215LWhlcm8uanBnXCIsXG4gICAgICAgICAgXCJodHRwczovL3d3dy5uYXRpb25hbGdlb2dyYXBoaWMuY29tL2NvbnRlbnQvZGFtL25nZG90Y29tL3JpZ2h0cy1leHBvcnRzL2hvbWVwYWdlLzIwMjMvZWFydGgtaGVyby5qcGdcIlxuICAgICAgICBdXG4gICAgICAgIGltYWdlVXJsID0gbmF0Z2VvSW1hZ2VzW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIG5hdGdlb0ltYWdlcy5sZW5ndGgpXVxuICAgICAgfVxuXG4gICAgICAvLyBUcnkgdG8gZ2V0IGEgYmV0dGVyIGRhdGUgYnkgZmV0Y2hpbmcgdGhlIGluZGl2aWR1YWwgYXJ0aWNsZVxuICAgICAgbGV0IGFydGljbGVEYXRlID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgICBcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGBGZXRjaGluZyBpbmRpdmlkdWFsIE5hdGlvbmFsIEdlb2dyYXBoaWMgYXJ0aWNsZSBmb3IgZGF0ZTogJHtsaW5rfWApXG4gICAgICAgIGNvbnN0IGFydGljbGVSZXNwb25zZSA9IGF3YWl0IGZldGNoKGxpbmssIHtcbiAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICBcInVzZXItYWdlbnRcIjogXCJNb3ppbGxhLzUuMCAoTWFjaW50b3NoOyBJbnRlbCBNYWMgT1MgWCAxMF8xNV83KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvMTIwLjAuMC4wIFNhZmFyaS81MzcuMzZcIixcbiAgICAgICAgICAgIGFjY2VwdDogXCJ0ZXh0L2h0bWwsYXBwbGljYXRpb24veGh0bWwreG1sLGFwcGxpY2F0aW9uL3htbDtxPTAuOSxpbWFnZS93ZWJwLCovKjtxPTAuOFwiLFxuICAgICAgICAgICAgXCJhY2NlcHQtbGFuZ3VhZ2VcIjogXCJlbi1VUyxlbjtxPTAuNVwiLFxuICAgICAgICAgICAgXCJhY2NlcHQtZW5jb2RpbmdcIjogXCJnemlwLCBkZWZsYXRlLCBiclwiLFxuICAgICAgICAgICAgcmVmZXJlcjogXCJodHRwczovL3d3dy5uYXRpb25hbGdlb2dyYXBoaWMuY29tL1wiLFxuICAgICAgICAgICAgXCJzZWMtZmV0Y2gtZGVzdFwiOiBcImRvY3VtZW50XCIsXG4gICAgICAgICAgICBcInNlYy1mZXRjaC1tb2RlXCI6IFwibmF2aWdhdGVcIixcbiAgICAgICAgICAgIFwic2VjLWZldGNoLXNpdGVcIjogXCJzYW1lLW9yaWdpblwiLFxuICAgICAgICAgICAgXCJ1cGdyYWRlLWluc2VjdXJlLXJlcXVlc3RzXCI6IFwiMVwiLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgY2FjaGU6IFwibm8tc3RvcmVcIixcbiAgICAgICAgfSlcblxuICAgICAgICBpZiAoYXJ0aWNsZVJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgY29uc3QgYXJ0aWNsZUh0bWwgPSBhd2FpdCBhcnRpY2xlUmVzcG9uc2UudGV4dCgpXG4gICAgICAgICAgY29uc3QgJGFydGljbGUgPSBjaGVlcmlvLmxvYWQoYXJ0aWNsZUh0bWwpXG4gICAgICAgICAgXG4gICAgICAgICAgLy8gTG9vayBmb3IgZGF0ZSBpbiBOYXRpb25hbCBHZW9ncmFwaGljIGFydGljbGVzXG4gICAgICAgICAgLy8gQmFzZWQgb24gdGhlIHN0cnVjdHVyZSBzaG93biwgZGF0ZXMgYXJlIGluIGRpdnMgd2l0aCBtdWx0aXBsZSBjbGFzc2VzXG4gICAgICAgICAgXG4gICAgICAgICAgLy8gRGVidWc6IExvZyB3aGF0IHdlJ3JlIGxvb2tpbmcgZm9yXG4gICAgICAgICAgaWYgKHJlc3VsdHMubGVuZ3RoIDwgMikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coYE5hdGlvbmFsIEdlb2dyYXBoaWMgQXJ0aWNsZSAke3Jlc3VsdHMubGVuZ3RoICsgMX0gLSBDaGVja2luZyBmb3IgZGF0ZSBlbGVtZW50c2ApXG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIGNvbnN0IGRhdGVTZWxlY3RvcnMgPSBbXG4gICAgICAgICAgICAndGltZVtkYXRldGltZV0nLFxuICAgICAgICAgICAgJy5hcnRpY2xlLWRhdGUnLFxuICAgICAgICAgICAgJy5wdWJsaXNoLWRhdGUnLFxuICAgICAgICAgICAgJy5ieWxpbmUtZGF0ZScsXG4gICAgICAgICAgICAnW2RhdGEtdGVzdGlkPVwiUHVibGlzaERhdGVcIl0nLFxuICAgICAgICAgICAgJy50aW1lc3RhbXAnLFxuICAgICAgICAgICAgJy5kYXRlJyxcbiAgICAgICAgICAgIC8vIE5hdGlvbmFsIEdlb2dyYXBoaWMgc3BlY2lmaWMgc2VsZWN0b3JzIGJhc2VkIG9uIHRoZSBzdHJ1Y3R1cmVcbiAgICAgICAgICAgICdkaXZbY2xhc3MqPVwialRLYlZcIl1bY2xhc3MqPVwieklJc1BcIl1bY2xhc3MqPVwiWmRiZUVcIl0nLFxuICAgICAgICAgICAgJ2RpdltjbGFzcyo9XCJKUVlEXCJdJyxcbiAgICAgICAgICAgICdkaXZbY2xhc3MqPVwiUXRpTE9cIl0nLFxuICAgICAgICAgICAgJ2RpdltjbGFzcyo9XCJ4QVBwcVwiXScsXG4gICAgICAgICAgICAvLyBNb3JlIGdlbmVyaWMgc2VsZWN0b3JzIGZvciBkYXRlLWxpa2UgY29udGVudFxuICAgICAgICAgICAgJ2Rpdjpjb250YWlucyhcIlNlcHRlbWJlclwiKScsXG4gICAgICAgICAgICAnZGl2OmNvbnRhaW5zKFwiQXVndXN0XCIpJyxcbiAgICAgICAgICAgICdkaXY6Y29udGFpbnMoXCJKdWx5XCIpJyxcbiAgICAgICAgICAgICdkaXY6Y29udGFpbnMoXCJKdW5lXCIpJyxcbiAgICAgICAgICAgICdkaXY6Y29udGFpbnMoXCJNYXlcIiknLFxuICAgICAgICAgICAgJ2Rpdjpjb250YWlucyhcIkFwcmlsXCIpJyxcbiAgICAgICAgICAgICdkaXY6Y29udGFpbnMoXCJNYXJjaFwiKScsXG4gICAgICAgICAgICAnZGl2OmNvbnRhaW5zKFwiRmVicnVhcnlcIiknLFxuICAgICAgICAgICAgJ2Rpdjpjb250YWlucyhcIkphbnVhcnlcIiknLFxuICAgICAgICAgICAgJ2Rpdjpjb250YWlucyhcIkRlY2VtYmVyXCIpJyxcbiAgICAgICAgICAgICdkaXY6Y29udGFpbnMoXCJOb3ZlbWJlclwiKScsXG4gICAgICAgICAgICAnZGl2OmNvbnRhaW5zKFwiT2N0b2JlclwiKSdcbiAgICAgICAgICBdXG4gICAgICAgICAgXG4gICAgICAgICAgZm9yIChjb25zdCBkYXRlU2VsZWN0b3Igb2YgZGF0ZVNlbGVjdG9ycykge1xuICAgICAgICAgICAgY29uc3QgZGF0ZUVsID0gJGFydGljbGUoZGF0ZVNlbGVjdG9yKS5maXJzdCgpXG4gICAgICAgICAgICBpZiAoZGF0ZUVsLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgbGV0IGRhdGVTdHIgPSBkYXRlRWwuYXR0cignZGF0ZXRpbWUnKSB8fCBkYXRlRWwudGV4dCgpLnRyaW0oKVxuICAgICAgICAgICAgICBpZiAoZGF0ZVN0cikge1xuICAgICAgICAgICAgICAgIC8vIFRyeSB0byBwYXJzZSB0aGUgZGF0ZSBzdHJpbmdcbiAgICAgICAgICAgICAgICBsZXQgcGFyc2VkRGF0ZSA9IG5ldyBEYXRlKGRhdGVTdHIpXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gSWYgZGlyZWN0IHBhcnNpbmcgZmFpbHMsIHRyeSB0byBoYW5kbGUgTmF0aW9uYWwgR2VvZ3JhcGhpYydzIGZvcm1hdFxuICAgICAgICAgICAgICAgIGlmIChpc05hTihwYXJzZWREYXRlLmdldFRpbWUoKSkpIHtcbiAgICAgICAgICAgICAgICAgIC8vIEhhbmRsZSBmb3JtYXRzIGxpa2UgXCJTZXB0ZW1iZXIgMTIsIDIwMjVcIiwgXCJTZXAgMTIsIDIwMjVcIiwgZXRjLlxuICAgICAgICAgICAgICAgICAgY29uc3QgbmF0Z2VvRGF0ZU1hdGNoID0gZGF0ZVN0ci5tYXRjaCgvKFtBLVphLXpdKylcXHMrKFxcZHsxLDJ9KSw/XFxzKyhcXGR7NH0pL2kpXG4gICAgICAgICAgICAgICAgICBpZiAobmF0Z2VvRGF0ZU1hdGNoKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IFssIG1vbnRoLCBkYXksIHllYXJdID0gbmF0Z2VvRGF0ZU1hdGNoXG4gICAgICAgICAgICAgICAgICAgIHBhcnNlZERhdGUgPSBuZXcgRGF0ZShgJHttb250aH0gJHtkYXl9LCAke3llYXJ9YClcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgaWYgKCFpc05hTihwYXJzZWREYXRlLmdldFRpbWUoKSkpIHtcbiAgICAgICAgICAgICAgICAgIGFydGljbGVEYXRlID0gcGFyc2VkRGF0ZS50b0lTT1N0cmluZygpXG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgRm91bmQgTmF0aW9uYWwgR2VvZ3JhcGhpYyBkYXRlOiBcIiR7ZGF0ZVN0cn1cIiAtPiAke2FydGljbGVEYXRlfWApXG4gICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICAvLyBJZiBubyBkYXRlIGZvdW5kIHdpdGggc2VsZWN0b3JzLCB0cnkgc2VhcmNoaW5nIGZvciBkYXRlIHBhdHRlcm5zIGluIGFsbCB0ZXh0XG4gICAgICAgICAgaWYgKGFydGljbGVEYXRlID09PSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkpIHtcbiAgICAgICAgICAgIGNvbnN0IGFsbFRleHQgPSAkYXJ0aWNsZSgnYm9keScpLnRleHQoKVxuICAgICAgICAgICAgY29uc3QgZGF0ZVBhdHRlcm5zID0gW1xuICAgICAgICAgICAgICAvKFtBLVphLXpdKylcXHMrKFxcZHsxLDJ9KSw/XFxzKyhcXGR7NH0pL2csIC8vIFwiU2VwdGVtYmVyIDEyLCAyMDI1XCJcbiAgICAgICAgICAgICAgLyhcXGR7MSwyfSlcXC8oXFxkezEsMn0pXFwvKFxcZHs0fSkvZywgLy8gXCI5LzEyLzIwMjVcIlxuICAgICAgICAgICAgICAvKFxcZHs0fSktKFxcZHsxLDJ9KS0oXFxkezEsMn0pL2cgLy8gXCIyMDI1LTA5LTEyXCJcbiAgICAgICAgICAgIF1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgZm9yIChjb25zdCBwYXR0ZXJuIG9mIGRhdGVQYXR0ZXJucykge1xuICAgICAgICAgICAgICBjb25zdCBtYXRjaGVzID0gYWxsVGV4dC5tYXRjaChwYXR0ZXJuKVxuICAgICAgICAgICAgICBpZiAobWF0Y2hlcyAmJiBtYXRjaGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRlU3RyID0gbWF0Y2hlc1swXVxuICAgICAgICAgICAgICAgIGNvbnN0IHBhcnNlZERhdGUgPSBuZXcgRGF0ZShkYXRlU3RyKVxuICAgICAgICAgICAgICAgIGlmICghaXNOYU4ocGFyc2VkRGF0ZS5nZXRUaW1lKCkpKSB7XG4gICAgICAgICAgICAgICAgICBhcnRpY2xlRGF0ZSA9IHBhcnNlZERhdGUudG9JU09TdHJpbmcoKVxuICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coYEZvdW5kIE5hdGlvbmFsIEdlb2dyYXBoaWMgZGF0ZSB2aWEgdGV4dCBzZWFyY2g6IFwiJHtkYXRlU3RyfVwiIC0+ICR7YXJ0aWNsZURhdGV9YClcbiAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIEFsc28gdHJ5IHRvIGdldCBhIGJldHRlciBpbWFnZSBmcm9tIHRoZSBpbmRpdmlkdWFsIGFydGljbGVcbiAgICAgICAgICBpZiAoaW1hZ2VVcmwgPT09IFwiL3BsYWNlaG9sZGVyLnN2Z1wiIHx8IGltYWdlVXJsLmluY2x1ZGVzKCduZy1sb2dvJykpIHtcbiAgICAgICAgICAgIGNvbnN0IGltYWdlU2VsZWN0b3JzID0gW1xuICAgICAgICAgICAgICAnLmFydGljbGUtaGVybyBpbWcnLFxuICAgICAgICAgICAgICAnLmZlYXR1cmVkLWltYWdlIGltZycsXG4gICAgICAgICAgICAgICcuYXJ0aWNsZS1pbWFnZSBpbWcnLFxuICAgICAgICAgICAgICAnZmlndXJlIGltZycsXG4gICAgICAgICAgICAgICdhcnRpY2xlIGltZycsXG4gICAgICAgICAgICAgICdpbWdbc3JjKj1cIm5hdGlvbmFsZ2VvZ3JhcGhpYy5jb21cIl0nXG4gICAgICAgICAgICBdXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGZvciAoY29uc3QgaW1nU2VsZWN0b3Igb2YgaW1hZ2VTZWxlY3RvcnMpIHtcbiAgICAgICAgICAgICAgY29uc3QgaW1nRWwgPSAkYXJ0aWNsZShpbWdTZWxlY3RvcikuZmlyc3QoKVxuICAgICAgICAgICAgICBpZiAoaW1nRWwubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGxldCBpbWdTcmMgPSBpbWdFbC5hdHRyKCdzcmMnKSB8fCBpbWdFbC5hdHRyKCdkYXRhLXNyYycpIHx8IGltZ0VsLmF0dHIoJ2RhdGEtbGF6eS1zcmMnKVxuICAgICAgICAgICAgICAgIGlmIChpbWdTcmMpIHtcbiAgICAgICAgICAgICAgICAgIGlmIChpbWdTcmMuc3RhcnRzV2l0aCgnLy8nKSkge1xuICAgICAgICAgICAgICAgICAgICBpbWdTcmMgPSBgaHR0cHM6JHtpbWdTcmN9YFxuICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpbWdTcmMuc3RhcnRzV2l0aCgnLycpKSB7XG4gICAgICAgICAgICAgICAgICAgIGltZ1NyYyA9IGBodHRwczovL3d3dy5uYXRpb25hbGdlb2dyYXBoaWMuY29tJHtpbWdTcmN9YFxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICBpZiAoaW1nU3JjLmluY2x1ZGVzKCduYXRpb25hbGdlb2dyYXBoaWMuY29tJykgJiYgIWltZ1NyYy5pbmNsdWRlcygnbmctbG9nbycpKSB7XG4gICAgICAgICAgICAgICAgICAgIGltYWdlVXJsID0gaW1nU3JjXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBGb3VuZCBiZXR0ZXIgTmF0aW9uYWwgR2VvZ3JhcGhpYyBpbWFnZTogJHtpbWdTcmN9YClcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGFydGljbGVFcnJvcikge1xuICAgICAgICBjb25zb2xlLmxvZyhgQ291bGQgbm90IGZldGNoIGluZGl2aWR1YWwgTmF0aW9uYWwgR2VvZ3JhcGhpYyBhcnRpY2xlOiAke2FydGljbGVFcnJvcn1gKVxuICAgICAgfVxuXG4gICAgICBjb25zdCBhcnRpY2xlOiBBcnRpY2xlID0ge1xuICAgICAgICBpZDogZ2VuZXJhdGVJZEZyb21MaW5rKGxpbmspLFxuICAgICAgICB0aXRsZTogdGl0bGUuc2xpY2UoMCwgMjAwKSxcbiAgICAgICAgc3VtbWFyeTogdGl0bGUuc2xpY2UoMCwgMzAwKSwgLy8gVXNlIHRpdGxlIGFzIHN1bW1hcnkgZm9yIG5vd1xuICAgICAgICBjb250ZW50OiBgUmVhZCB0aGUgZnVsbCBOYXRpb25hbCBHZW9ncmFwaGljIGFydGljbGU6ICR7bGlua31gLFxuICAgICAgICBpbWFnZVVybDogaW1hZ2VVcmwsXG4gICAgICAgIGRhdGU6IGFydGljbGVEYXRlLFxuICAgICAgICBzb3VyY2U6IFwiTmF0aW9uYWwgR2VvZ3JhcGhpY1wiLFxuICAgICAgfVxuXG4gICAgICByZXN1bHRzLnB1c2goYXJ0aWNsZSlcbiAgICB9XG5cbiAgICBjb25zb2xlLmxvZyhgRm91bmQgJHtyZXN1bHRzLmxlbmd0aH0gTmF0aW9uYWwgR2VvZ3JhcGhpYyBhcnRpY2xlc2ApXG4gICAgcmV0dXJuIHJlc3VsdHMuc2xpY2UoMCwgOCkgLy8gTGltaXQgdG8gOCBhcnRpY2xlcyBmb3IgZmFzdGVyIGxvYWRpbmdcblxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUubG9nKGBFcnJvciBmZXRjaGluZyBOYXRpb25hbCBHZW9ncmFwaGljIG5ld3M6YCwgZXJyb3IpXG4gICAgdGhyb3cgZXJyb3JcbiAgfVxufVxuXG5hc3luYyBmdW5jdGlvbiBzY3JhcGVTcGFjZU5ld3MoKTogUHJvbWlzZTxBcnRpY2xlW10+IHtcbiAgLy8gVHJ5IG11bHRpcGxlIFNwYWNlLmNvbSBVUkxzXG4gIGNvbnN0IHVybHMgPSBbXG4gICAgXCJodHRwczovL3d3dy5zcGFjZS5jb20vbmV3c1wiLFxuICAgIFwiaHR0cHM6Ly93d3cuc3BhY2UuY29tL25ld3MvXCIsXG4gICAgXCJodHRwczovL3d3dy5zcGFjZS5jb20vXCIsXG4gIF1cblxuICBjb25zdCBoZWFkZXJzID0ge1xuICAgIFwidXNlci1hZ2VudFwiOlxuICAgICAgXCJNb3ppbGxhLzUuMCAoTWFjaW50b3NoOyBJbnRlbCBNYWMgT1MgWCAxMF8xNV83KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvMTIwLjAuMC4wIFNhZmFyaS81MzcuMzZcIixcbiAgICBhY2NlcHQ6IFwidGV4dC9odG1sLGFwcGxpY2F0aW9uL3hodG1sK3htbCxhcHBsaWNhdGlvbi94bWw7cT0wLjksaW1hZ2Uvd2VicCwqLyo7cT0wLjhcIixcbiAgICBcImFjY2VwdC1sYW5ndWFnZVwiOiBcImVuLVVTLGVuO3E9MC41XCIsXG4gICAgXCJhY2NlcHQtZW5jb2RpbmdcIjogXCJnemlwLCBkZWZsYXRlLCBiclwiLFxuICAgIHJlZmVyZXI6IFwiaHR0cHM6Ly93d3cuZ29vZ2xlLmNvbS9cIixcbiAgICBcInNlYy1mZXRjaC1kZXN0XCI6IFwiZG9jdW1lbnRcIixcbiAgICBcInNlYy1mZXRjaC1tb2RlXCI6IFwibmF2aWdhdGVcIixcbiAgICBcInNlYy1mZXRjaC1zaXRlXCI6IFwiY3Jvc3Mtc2l0ZVwiLFxuICAgIFwidXBncmFkZS1pbnNlY3VyZS1yZXF1ZXN0c1wiOiBcIjFcIixcbiAgfVxuXG4gIGZvciAoY29uc3QgdXJsIG9mIHVybHMpIHtcbiAgICB0cnkge1xuICAgICAgY29uc29sZS5sb2coYFNjcmFwaW5nIFNwYWNlLmNvbSBuZXdzOiAke3VybH1gKVxuICAgICAgXG4gICAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaCh1cmwsIHtcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgY2FjaGU6IFwibm8tc3RvcmVcIixcbiAgICAgIH0pXG5cbiAgICAgIGlmICghcmVzLm9rKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGBGYWlsZWQgdG8gZmV0Y2ggJHt1cmx9OiAke3Jlcy5zdGF0dXN9YClcbiAgICAgICAgY29udGludWVcbiAgICAgIH1cblxuICAgICAgY29uc3QgaHRtbCA9IGF3YWl0IHJlcy50ZXh0KClcbiAgICAgIGlmICghaHRtbCB8fCBodG1sLmxlbmd0aCA8IDEwMCkge1xuICAgICAgICBjb25zb2xlLmxvZyhgRW1wdHkgcmVzcG9uc2UgZnJvbSAke3VybH1gKVxuICAgICAgICBjb250aW51ZVxuICAgICAgfVxuXG4gICAgICBjb25zdCAkID0gY2hlZXJpby5sb2FkKGh0bWwpXG4gICAgICBjb25zdCByZXN1bHRzOiBBcnRpY2xlW10gPSBbXVxuXG4gICAgICAvLyBUcnkgbXVsdGlwbGUgc2VsZWN0b3JzIGZvciBTcGFjZS5jb20gYXJ0aWNsZXNcbiAgICAgIGNvbnN0IHNlbGVjdG9ycyA9IFtcbiAgICAgICAgXCJhcnRpY2xlXCIsXG4gICAgICAgIFwiLmxpc3RpbmdSZXN1bHRcIixcbiAgICAgICAgXCIubmV3cy1pdGVtXCIsIFxuICAgICAgICBcIi5hcnRpY2xlLWl0ZW1cIixcbiAgICAgICAgXCJbZGF0YS1tb2R1bGU9J0FydGljbGVMaXN0SXRlbSddXCIsXG4gICAgICAgIFwiLnZhbmlsbGEtaW1hZ2UtYmxvY2tcIixcbiAgICAgICAgXCIuaGF3ay1pdGVtXCIsXG4gICAgICAgIFwiLnN1bW1hcnktaXRlbVwiLFxuICAgICAgICBcIi5lbnRyeS10aXRsZVwiLFxuICAgICAgICBcIltjbGFzcyo9J2FydGljbGUnXVwiLFxuICAgICAgICBcIltjbGFzcyo9J3Bvc3QnXVwiLFxuICAgICAgXVxuXG4gICAgICBmb3IgKGNvbnN0IHNlbGVjdG9yIG9mIHNlbGVjdG9ycykge1xuICAgICAgICBjb25zb2xlLmxvZyhgVHJ5aW5nIFNwYWNlLmNvbSBzZWxlY3RvcjogJHtzZWxlY3Rvcn0gb24gJHt1cmx9YClcbiAgICAgICAgXG4gICAgICAgICQoc2VsZWN0b3IpLmVhY2goKF8sIGVsKSA9PiB7XG4gICAgICAgICAgY29uc3QgJGVsID0gJChlbClcbiAgICAgICAgICBsZXQgdGl0bGUgPSBcIlwiXG4gICAgICAgICAgbGV0IGxpbmsgPSBcIlwiXG4gICAgICAgICAgbGV0IHN1bW1hcnkgPSBcIlwiXG4gICAgICAgICAgbGV0IGltYWdlVXJsID0gXCIvcGxhY2Vob2xkZXIuc3ZnXCJcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBNZXRob2QgMTogTG9vayBmb3IgYXJ0aWNsZSB0aXRsZSBhbmQgbGlua1xuICAgICAgICAgIGNvbnN0IHRpdGxlTGluayA9ICRlbC5maW5kKFwiaDEgYSwgaDIgYSwgaDMgYSwgLmFydGljbGUtbmFtZSBhLCAuYXJ0aWNsZS1saW5rLCAuZW50cnktdGl0bGUgYVwiKS5maXJzdCgpXG4gICAgICAgICAgaWYgKHRpdGxlTGluay5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0aXRsZSA9IHRpdGxlTGluay50ZXh0KCkudHJpbSgpXG4gICAgICAgICAgICBsaW5rID0gdGl0bGVMaW5rLmF0dHIoXCJocmVmXCIpIHx8IFwiXCJcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gTWV0aG9kIDI6IExvb2sgZm9yIHRpdGxlIGluIHZhcmlvdXMgaGVhZGluZyB0YWdzXG4gICAgICAgICAgaWYgKCF0aXRsZSkge1xuICAgICAgICAgICAgY29uc3QgdGl0bGVFbCA9ICRlbC5maW5kKFwiaDEsIGgyLCBoMywgaDQsIC50aXRsZSwgW2NsYXNzKj0ndGl0bGUnXSwgW2NsYXNzKj0nbmFtZSddLCAuZW50cnktdGl0bGVcIikuZmlyc3QoKVxuICAgICAgICAgICAgdGl0bGUgPSB0aXRsZUVsLnRleHQoKS50cmltKClcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKCFsaW5rKSB7XG4gICAgICAgICAgICAgIGNvbnN0IGxpbmtFbCA9ICRlbC5maW5kKFwiYVwiKS5maXJzdCgpXG4gICAgICAgICAgICAgIGxpbmsgPSBsaW5rRWwuYXR0cihcImhyZWZcIikgfHwgXCJcIlxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICAvLyBNZXRob2QgMzogQ2hlY2sgaWYgZWxlbWVudCBpdHNlbGYgaXMgYSBsaW5rXG4gICAgICAgICAgaWYgKCF0aXRsZSAmJiAkZWwuaXMoXCJhXCIpKSB7XG4gICAgICAgICAgICB0aXRsZSA9ICRlbC50ZXh0KCkudHJpbSgpXG4gICAgICAgICAgICBsaW5rID0gJGVsLmF0dHIoXCJocmVmXCIpIHx8IFwiXCJcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gRXh0cmFjdCBpbWFnZSBmcm9tIHZhcmlvdXMgc291cmNlcyB3aXRoIG1vcmUgY29tcHJlaGVuc2l2ZSBhcHByb2FjaFxuICAgICAgICAgIGNvbnN0IGltYWdlU2VsZWN0b3JzID0gW1xuICAgICAgICAgICAgJ2ZpZ3VyZVtkYXRhLW9yaWdpbmFsXScsXG4gICAgICAgICAgICAnZmlndXJlIGltZycsXG4gICAgICAgICAgICAnaW1nW2RhdGEtb3JpZ2luYWxdJyxcbiAgICAgICAgICAgICdpbWdbZGF0YS1zcmNdJywgXG4gICAgICAgICAgICAnaW1nW2RhdGEtbGF6eS1zcmNdJyxcbiAgICAgICAgICAgICdpbWcubGF6eScsXG4gICAgICAgICAgICAnaW1nW3NyYyo9XCJzcGFjZS5jb21cIl0nLFxuICAgICAgICAgICAgJ2ltZ1tzcmMqPVwiY2RuLm1vcy5jbXMuZnV0dXJlY2RuLm5ldFwiXScsXG4gICAgICAgICAgICAnLmFydGljbGUtaW1hZ2UgaW1nJyxcbiAgICAgICAgICAgICcubGlzdGluZy1pbWFnZSBpbWcnLFxuICAgICAgICAgICAgJy52YW5pbGxhLWltYWdlLWJsb2NrIGltZycsXG4gICAgICAgICAgICAncGljdHVyZSBpbWcnLFxuICAgICAgICAgICAgJ2ltZ1tzcmNdJ1xuICAgICAgICAgIF1cbiAgICAgICAgICBcbiAgICAgICAgICBmb3IgKGNvbnN0IGltZ1NlbGVjdG9yIG9mIGltYWdlU2VsZWN0b3JzKSB7XG4gICAgICAgICAgICBjb25zdCBpbWdFbCA9ICRlbC5maW5kKGltZ1NlbGVjdG9yKS5maXJzdCgpXG4gICAgICAgICAgICBpZiAoaW1nRWwubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAvLyBUcnkgbXVsdGlwbGUgZGF0YSBhdHRyaWJ1dGVzIGFuZCBzcmNcbiAgICAgICAgICAgICAgbGV0IGltZ1NyYyA9IGltZ0VsLmF0dHIoJ2RhdGEtb3JpZ2luYWwnKSB8fCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaW1nRWwuYXR0cignZGF0YS1zcmMnKSB8fCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaW1nRWwuYXR0cignZGF0YS1sYXp5LXNyYycpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGltZ0VsLmF0dHIoJ3NyY3NldCcpPy5zcGxpdCgnICcpWzBdIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGltZ0VsLmF0dHIoJ3NyYycpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGltZ0VsLnBhcmVudCgpLmF0dHIoJ2RhdGEtb3JpZ2luYWwnKVxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgaWYgKGltZ1NyYykge1xuICAgICAgICAgICAgICAgIC8vIENsZWFuIHVwIHNyY3NldCBmb3JtYXQgaWYgcHJlc2VudFxuICAgICAgICAgICAgICAgIGlmIChpbWdTcmMuaW5jbHVkZXMoJyAnKSkge1xuICAgICAgICAgICAgICAgICAgaW1nU3JjID0gaW1nU3JjLnNwbGl0KCcgJylbMF1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gRW5zdXJlIGFic29sdXRlIFVSTFxuICAgICAgICAgICAgICAgIGlmIChpbWdTcmMuc3RhcnRzV2l0aCgnLy8nKSkge1xuICAgICAgICAgICAgICAgICAgaW1nU3JjID0gYGh0dHBzOiR7aW1nU3JjfWBcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGltZ1NyYy5zdGFydHNXaXRoKCcvJykpIHtcbiAgICAgICAgICAgICAgICAgIGltZ1NyYyA9IGBodHRwczovL3d3dy5zcGFjZS5jb20ke2ltZ1NyY31gXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIFZhbGlkYXRlIGl0J3MgYSBwcm9wZXIgaW1hZ2UgVVJMIGFuZCBub3QgYSBwbGFjZWhvbGRlclxuICAgICAgICAgICAgICAgIGlmIChpbWdTcmMgJiYgXG4gICAgICAgICAgICAgICAgICAgICFpbWdTcmMuaW5jbHVkZXMoJ3BsYWNlaG9sZGVyJykgJiYgXG4gICAgICAgICAgICAgICAgICAgICFpbWdTcmMuaW5jbHVkZXMoJ2RhdGE6aW1hZ2UnKSAmJlxuICAgICAgICAgICAgICAgICAgICAoaW1nU3JjLmluY2x1ZGVzKCdzcGFjZS5jb20nKSB8fCBpbWdTcmMuaW5jbHVkZXMoJ2Z1dHVyZWNkbi5uZXQnKSkgJiZcbiAgICAgICAgICAgICAgICAgICAgKGltZ1NyYy5pbmNsdWRlcygnLmpwZycpIHx8IGltZ1NyYy5pbmNsdWRlcygnLmpwZWcnKSB8fCBcbiAgICAgICAgICAgICAgICAgICAgIGltZ1NyYy5pbmNsdWRlcygnLnBuZycpIHx8IGltZ1NyYy5pbmNsdWRlcygnLndlYnAnKSkpIHtcbiAgICAgICAgICAgICAgICAgIGltYWdlVXJsID0gaW1nU3JjXG4gICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICAvLyBJZiBubyBpbWFnZSBmb3VuZCwgYXNzaWduIGEgdGhlbWF0aWMgc3BhY2UgaW1hZ2UgYmFzZWQgb24gdGl0bGUga2V5d29yZHNcbiAgICAgICAgICBpZiAoaW1hZ2VVcmwgPT09IFwiL3BsYWNlaG9sZGVyLnN2Z1wiICYmIHRpdGxlKSB7XG4gICAgICAgICAgICBjb25zdCBzcGFjZUltYWdlcyA9IFtcbiAgICAgICAgICAgICAgXCJodHRwczovL2Nkbi5tb3MuY21zLmZ1dHVyZWNkbi5uZXQvWXpRek56UXpOelF6TnpRei1zcGFjZS0xLmpwZ1wiLCAvLyBHZW5lcmljIHNwYWNlXG4gICAgICAgICAgICAgIFwiaHR0cHM6Ly9jZG4ubW9zLmNtcy5mdXR1cmVjZG4ubmV0L1l6UXpOelF6TnpRek56UXotbW9vbi0xLmpwZ1wiLCAvLyBNb29uL2x1bmFyXG4gICAgICAgICAgICAgIFwiaHR0cHM6Ly9jZG4ubW9zLmNtcy5mdXR1cmVjZG4ubmV0L1l6UXpOelF6TnpRek56UXotbWFycy0xLmpwZ1wiLCAvLyBNYXJzXG4gICAgICAgICAgICAgIFwiaHR0cHM6Ly9jZG4ubW9zLmNtcy5mdXR1cmVjZG4ubmV0L1l6UXpOelF6TnpRek56UXotdGVsZXNjb3BlLTEuanBnXCIsIC8vIFRlbGVzY29wZVxuICAgICAgICAgICAgICBcImh0dHBzOi8vY2RuLm1vcy5jbXMuZnV0dXJlY2RuLm5ldC9ZelF6TnpRek56UXpOelF6LWdhbGF4eS0xLmpwZ1wiLCAvLyBHYWxheHlcbiAgICAgICAgICAgICAgXCJodHRwczovL2Nkbi5tb3MuY21zLmZ1dHVyZWNkbi5uZXQvWXpRek56UXpOelF6TnpRei1yb2NrZXQtMS5qcGdcIiwgLy8gUm9ja2V0XG4gICAgICAgICAgICAgIFwiaHR0cHM6Ly9jZG4ubW9zLmNtcy5mdXR1cmVjZG4ubmV0L1l6UXpOelF6TnpRek56UXotc2F0dXJuLTEuanBnXCIgLy8gU2F0dXJuXG4gICAgICAgICAgICBdXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IGxvd2VyVGl0bGUgPSB0aXRsZS50b0xvd2VyQ2FzZSgpXG4gICAgICAgICAgICBpZiAobG93ZXJUaXRsZS5pbmNsdWRlcygnbW9vbicpIHx8IGxvd2VyVGl0bGUuaW5jbHVkZXMoJ2x1bmFyJykgfHwgbG93ZXJUaXRsZS5pbmNsdWRlcygnZWNsaXBzZScpKSB7XG4gICAgICAgICAgICAgIGltYWdlVXJsID0gc3BhY2VJbWFnZXNbMV1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAobG93ZXJUaXRsZS5pbmNsdWRlcygnbWFycycpIHx8IGxvd2VyVGl0bGUuaW5jbHVkZXMoJ3JvdmVyJykpIHtcbiAgICAgICAgICAgICAgaW1hZ2VVcmwgPSBzcGFjZUltYWdlc1syXVxuICAgICAgICAgICAgfSBlbHNlIGlmIChsb3dlclRpdGxlLmluY2x1ZGVzKCd3ZWJiJykgfHwgbG93ZXJUaXRsZS5pbmNsdWRlcygndGVsZXNjb3BlJykgfHwgbG93ZXJUaXRsZS5pbmNsdWRlcygnaHViYmxlJykpIHtcbiAgICAgICAgICAgICAgaW1hZ2VVcmwgPSBzcGFjZUltYWdlc1szXVxuICAgICAgICAgICAgfSBlbHNlIGlmIChsb3dlclRpdGxlLmluY2x1ZGVzKCdnYWxheHknKSB8fCBsb3dlclRpdGxlLmluY2x1ZGVzKCdzdGFyJykgfHwgbG93ZXJUaXRsZS5pbmNsdWRlcygnZHVzdCcpKSB7XG4gICAgICAgICAgICAgIGltYWdlVXJsID0gc3BhY2VJbWFnZXNbNF1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAobG93ZXJUaXRsZS5pbmNsdWRlcygnc3BhY2V4JykgfHwgbG93ZXJUaXRsZS5pbmNsdWRlcygncm9ja2V0JykgfHwgbG93ZXJUaXRsZS5pbmNsdWRlcygnbGF1bmNoJykpIHtcbiAgICAgICAgICAgICAgaW1hZ2VVcmwgPSBzcGFjZUltYWdlc1s1XVxuICAgICAgICAgICAgfSBlbHNlIGlmIChsb3dlclRpdGxlLmluY2x1ZGVzKCdzYXR1cm4nKSB8fCBsb3dlclRpdGxlLmluY2x1ZGVzKCdwbGFuZXQnKSkge1xuICAgICAgICAgICAgICBpbWFnZVVybCA9IHNwYWNlSW1hZ2VzWzZdXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAvLyBEZWZhdWx0IHRvIGEgcmFuZG9tIHNwYWNlIGltYWdlXG4gICAgICAgICAgICAgIGltYWdlVXJsID0gc3BhY2VJbWFnZXNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogc3BhY2VJbWFnZXMubGVuZ3RoKV1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gQ2xlYW4gdXAgdGl0bGUgLSByZW1vdmUgZXh0cmEgd2hpdGVzcGFjZSBhbmQgbWV0YWRhdGFcbiAgICAgICAgICBpZiAodGl0bGUpIHtcbiAgICAgICAgICAgIHRpdGxlID0gdGl0bGUucmVwbGFjZSgvXFxzKy9nLCAnICcpLnJlcGxhY2UoL0J5XFxzKy4qP2xhc3QgdXBkYXRlZC4qJC9pLCAnJykudHJpbSgpXG4gICAgICAgICAgICBpZiAodGl0bGUuaW5jbHVkZXMoJ0hvbWVwYWdlJykgfHwgdGl0bGUuaW5jbHVkZXMoJ1ZpZGVvJykgfHwgdGl0bGUubGVuZ3RoIDwgMTApIHtcbiAgICAgICAgICAgICAgcmV0dXJuIC8vIFNraXAgbm9uLWFydGljbGUgY29udGVudFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICAvLyBHZXQgc3VtbWFyeS9kZXNjcmlwdGlvblxuICAgICAgICAgIGNvbnN0IHN1bW1hcnlFbCA9ICRlbC5maW5kKFwiLnN1bW1hcnksIC5kZXNjcmlwdGlvbiwgLmV4Y2VycHQsIHBcIikuZmlyc3QoKVxuICAgICAgICAgIHN1bW1hcnkgPSBzdW1tYXJ5RWwudGV4dCgpLnRyaW0oKSB8fCB0aXRsZVxuXG4gICAgICAgICAgaWYgKHRpdGxlICYmIGxpbmsgJiYgdGl0bGUubGVuZ3RoID4gMTAgJiYgIXRpdGxlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ2hvbWVwYWdlJykpIHtcbiAgICAgICAgICAgIC8vIEVuc3VyZSBhYnNvbHV0ZSBVUkxcbiAgICAgICAgICAgIGlmIChsaW5rLnN0YXJ0c1dpdGgoXCIvXCIpKSB7XG4gICAgICAgICAgICAgIGxpbmsgPSBgaHR0cHM6Ly93d3cuc3BhY2UuY29tJHtsaW5rfWBcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIWxpbmsuc3RhcnRzV2l0aChcImh0dHBcIikpIHtcbiAgICAgICAgICAgICAgbGluayA9IGBodHRwczovL3d3dy5zcGFjZS5jb20vJHtsaW5rfWBcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgYXJ0aWNsZTogQXJ0aWNsZSA9IHtcbiAgICAgICAgICAgICAgaWQ6IGdlbmVyYXRlSWRGcm9tTGluayhsaW5rKSxcbiAgICAgICAgICAgICAgdGl0bGU6IHRpdGxlLnNsaWNlKDAsIDIwMCksXG4gICAgICAgICAgICAgIHN1bW1hcnk6IHN1bW1hcnkuc2xpY2UoMCwgMzAwKSB8fCB0aXRsZS5zbGljZSgwLCAzMDApLFxuICAgICAgICAgICAgICBjb250ZW50OiBgUmVhZCB0aGUgZnVsbCBhcnRpY2xlIGF0IFNwYWNlLmNvbTogJHtsaW5rfWAsXG4gICAgICAgICAgICAgIGltYWdlVXJsOiBpbWFnZVVybCxcbiAgICAgICAgICAgICAgZGF0ZTogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgICBzb3VyY2U6IFwiU3BhY2UuY29tXCIsXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJlc3VsdHMucHVzaChhcnRpY2xlKVxuICAgICAgICAgIH1cbiAgICAgICAgfSlcblxuICAgICAgICBpZiAocmVzdWx0cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coYEZvdW5kICR7cmVzdWx0cy5sZW5ndGh9IGFydGljbGVzIHdpdGggc2VsZWN0b3I6ICR7c2VsZWN0b3J9IGZyb20gJHt1cmx9YClcbiAgICAgICAgICByZXR1cm4gcmVzdWx0cy5zbGljZSgwLCA4KSAvLyBMaW1pdCB0byA4IGFydGljbGVzIGZvciBmYXN0ZXIgbG9hZGluZ1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNvbnNvbGUubG9nKGBObyBhcnRpY2xlcyBmb3VuZCBhdCAke3VybH1gKVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmxvZyhgRXJyb3IgZmV0Y2hpbmcgJHt1cmx9OmAsIGVycm9yKVxuICAgICAgY29udGludWVcbiAgICB9XG4gIH1cblxuICB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZCBub3Qgc2NyYXBlIGFueSBhcnRpY2xlcyBmcm9tIFNwYWNlLmNvbSBVUkxzXCIpXG59XG5cbi8vIEZhbGxiYWNrIHNwYWNlIGFydGljbGVzIGluIGNhc2Ugc2NyYXBpbmcgZmFpbHNcbmNvbnN0IGZhbGxiYWNrU3BhY2VBcnRpY2xlczogQXJ0aWNsZVtdID0gW1xuICB7XG4gICAgaWQ6IFwic3BhY2UtMVwiLFxuICAgIHRpdGxlOiBcIlNwYWNlWCBTdGFyc2hpcCBTdWNjZXNzZnVsbHkgQ29tcGxldGVzIE9yYml0YWwgVGVzdCBGbGlnaHRcIixcbiAgICBzdW1tYXJ5OiBcIlRoZSBtYXNzaXZlIHJvY2tldCBhY2hpZXZlZCBrZXkgbWlsZXN0b25lcyBpbiBpdHMgam91cm5leSB0b3dhcmQgTWFycyBtaXNzaW9ucy5cIixcbiAgICBjb250ZW50OiBcIlNwYWNlWCdzIFN0YXJzaGlwIGhhcyBjb21wbGV0ZWQgYW5vdGhlciBzdWNjZXNzZnVsIHRlc3QgZmxpZ2h0LCBicmluZ2luZyB0aGUgY29tcGFueSBjbG9zZXIgdG8gaXRzIGdvYWwgb2YgTWFycyBjb2xvbml6YXRpb24uIFRoZSB2ZWhpY2xlIGRlbW9uc3RyYXRlZCBpbXByb3ZlZCBoZWF0IHNoaWVsZCBwZXJmb3JtYW5jZSBhbmQgbGFuZGluZyBjYXBhYmlsaXRpZXMuLi5cIixcbiAgICBpbWFnZVVybDogXCJodHRwczovL2Nkbi5tb3MuY21zLmZ1dHVyZWNkbi5uZXQvcGxhY2Vob2xkZXItc3BhY2V4LXN0YXJzaGlwLmpwZ1wiLFxuICAgIGRhdGU6IG5ldyBEYXRlKERhdGUubm93KCkgLSBNYXRoLnJhbmRvbSgpICogMzAgKiAyNCAqIDYwICogNjAgKiAxMDAwKS50b0lTT1N0cmluZygpLFxuICAgIHNvdXJjZTogXCJTcGFjZS5jb21cIixcbiAgfSxcbiAge1xuICAgIGlkOiBcInNwYWNlLTJcIiwgXG4gICAgdGl0bGU6IFwiQXN0cm9ub21lcnMgRGV0ZWN0IE15c3RlcmlvdXMgUmFkaW8gU2lnbmFscyBmcm9tIERpc3RhbnQgR2FsYXh5XCIsXG4gICAgc3VtbWFyeTogXCJGYXN0IHJhZGlvIGJ1cnN0cyByZXZlYWwgbmV3IGluc2lnaHRzIGFib3V0IHRoZSB1bml2ZXJzZSdzIG1hZ25ldGljIGZpZWxkcy5cIixcbiAgICBjb250ZW50OiBcIkEgdGVhbSBvZiBhc3Ryb25vbWVycyBoYXMgZGV0ZWN0ZWQgYSBzZXJpZXMgb2YgbXlzdGVyaW91cyByYWRpbyBzaWduYWxzIG9yaWdpbmF0aW5nIGZyb20gYSBnYWxheHkgYmlsbGlvbnMgb2YgbGlnaHQteWVhcnMgYXdheS4gVGhlc2UgZmFzdCByYWRpbyBidXJzdHMgY291bGQgaGVscCBzY2llbnRpc3RzIHVuZGVyc3RhbmQgY29zbWljIG1hZ25ldGlzbS4uLlwiLFxuICAgIGltYWdlVXJsOiBcImh0dHBzOi8vY2RuLm1vcy5jbXMuZnV0dXJlY2RuLm5ldC9wbGFjZWhvbGRlci1yYWRpby10ZWxlc2NvcGUuanBnXCIsXG4gICAgZGF0ZTogbmV3IERhdGUoRGF0ZS5ub3coKSAtIE1hdGgucmFuZG9tKCkgKiAzMCAqIDI0ICogNjAgKiA2MCAqIDEwMDApLnRvSVNPU3RyaW5nKCksXG4gICAgc291cmNlOiBcIlNwYWNlLmNvbVwiLFxuICB9LFxuICB7XG4gICAgaWQ6IFwic3BhY2UtM1wiLFxuICAgIHRpdGxlOiBcIkNoaW5hJ3MgU3BhY2UgU3RhdGlvbiBSZWNlaXZlcyBOZXcgUmVzZWFyY2ggTW9kdWxlc1wiLFxuICAgIHN1bW1hcnk6IFwiVGlhbmdvbmcgc3BhY2Ugc3RhdGlvbiBleHBhbmRzIGNhcGFiaWxpdGllcyBmb3Igc2NpZW50aWZpYyBleHBlcmltZW50cy5cIixcbiAgICBjb250ZW50OiBcIkNoaW5hIGhhcyBzdWNjZXNzZnVsbHkgYXR0YWNoZWQgbmV3IHJlc2VhcmNoIG1vZHVsZXMgdG8gaXRzIFRpYW5nb25nIHNwYWNlIHN0YXRpb24sIHNpZ25pZmljYW50bHkgZXhwYW5kaW5nIHRoZSBmYWNpbGl0eSdzIHNjaWVudGlmaWMgY2FwYWJpbGl0aWVzIGZvciBtaWNyb2dyYXZpdHkgcmVzZWFyY2guLi5cIixcbiAgICBpbWFnZVVybDogXCJodHRwczovL2Nkbi5tb3MuY21zLmZ1dHVyZWNkbi5uZXQvcGxhY2Vob2xkZXItdGlhbmdvbmctc3RhdGlvbi5qcGdcIiwgXG4gICAgZGF0ZTogbmV3IERhdGUoRGF0ZS5ub3coKSAtIE1hdGgucmFuZG9tKCkgKiAzMCAqIDI0ICogNjAgKiA2MCAqIDEwMDApLnRvSVNPU3RyaW5nKCksXG4gICAgc291cmNlOiBcIlNwYWNlLmNvbVwiLFxuICB9LFxuICB7XG4gICAgaWQ6IFwic3BhY2UtNFwiLFxuICAgIHRpdGxlOiBcIkV1cm9wYSBDbGlwcGVyIE1pc3Npb24gTGF1bmNoZXMgdG8gSnVwaXRlcidzIEljeSBNb29uXCIsXG4gICAgc3VtbWFyeTogXCJOQVNBIHByb2JlIGJlZ2lucyBqb3VybmV5IHRvIHNlYXJjaCBmb3Igc2lnbnMgb2YgbGlmZSBpbiBFdXJvcGEncyBzdWJzdXJmYWNlIG9jZWFuLlwiLFxuICAgIGNvbnRlbnQ6IFwiTkFTQSdzIEV1cm9wYSBDbGlwcGVyIHNwYWNlY3JhZnQgaGFzIGJlZ3VuIGl0cyBqb3VybmV5IHRvIEp1cGl0ZXIncyBtb29uIEV1cm9wYSwgd2hlcmUgaXQgd2lsbCBpbnZlc3RpZ2F0ZSB0aGUgbW9vbidzIHN1YnN1cmZhY2Ugb2NlYW4gYW5kIHBvdGVudGlhbCBmb3IgaGFyYm9yaW5nIGxpZmUuLi5cIixcbiAgICBpbWFnZVVybDogXCJodHRwczovL2Nkbi5tb3MuY21zLmZ1dHVyZWNkbi5uZXQvcGxhY2Vob2xkZXItZXVyb3BhLWNsaXBwZXIuanBnXCIsXG4gICAgZGF0ZTogbmV3IERhdGUoRGF0ZS5ub3coKSAtIE1hdGgucmFuZG9tKCkgKiAzMCAqIDI0ICogNjAgKiA2MCAqIDEwMDApLnRvSVNPU3RyaW5nKCksXG4gICAgc291cmNlOiBcIlNwYWNlLmNvbVwiLFxuICB9LFxuICB7XG4gICAgaWQ6IFwic3BhY2UtNVwiLFxuICAgIHRpdGxlOiBcIkJyZWFrdGhyb3VnaCBpbiBGdXNpb24gUm9ja2V0IFRlY2hub2xvZ3kgQ291bGQgRW5hYmxlIEZhc3RlciBNYXJzIFRyYXZlbFwiLFxuICAgIHN1bW1hcnk6IFwiTmV3IHByb3B1bHNpb24gc3lzdGVtIGNvdWxkIGN1dCBNYXJzIGpvdXJuZXkgdGltZSB0byBqdXN0IDMgbW9udGhzLlwiLFxuICAgIGNvbnRlbnQ6IFwiU2NpZW50aXN0cyBoYXZlIGFjaGlldmVkIGEgbWFqb3IgYnJlYWt0aHJvdWdoIGluIGZ1c2lvbiByb2NrZXQgdGVjaG5vbG9neSB0aGF0IGNvdWxkIHJldm9sdXRpb25pemUgc3BhY2UgdHJhdmVsLCBwb3RlbnRpYWxseSByZWR1Y2luZyB0aGUgam91cm5leSB0aW1lIHRvIE1hcnMgZnJvbSA5IG1vbnRocyB0byBqdXN0IDMgbW9udGhzLi4uXCIsXG4gICAgaW1hZ2VVcmw6IFwiaHR0cHM6Ly9jZG4ubW9zLmNtcy5mdXR1cmVjZG4ubmV0L3BsYWNlaG9sZGVyLWZ1c2lvbi1yb2NrZXQuanBnXCIsXG4gICAgZGF0ZTogbmV3IERhdGUoRGF0ZS5ub3coKSAtIE1hdGgucmFuZG9tKCkgKiAzMCAqIDI0ICogNjAgKiA2MCAqIDEwMDApLnRvSVNPU3RyaW5nKCksXG4gICAgc291cmNlOiBcIlNwYWNlLmNvbVwiLFxuICB9LFxuXVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKHJlcXVlc3Q6IFJlcXVlc3QpIHtcbiAgdHJ5IHtcbiAgICBjb25zb2xlLmxvZyhcIlNwYWNlIE5ld3MgQVBJOiBTdGFydGluZyBzY3JhcGUgYXR0ZW1wdC4uLlwiKVxuICAgIFxuICAgIC8vIENoZWNrIGNhY2hlIGZpcnN0XG4gICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKVxuICAgIGlmIChhcnRpY2xlQ2FjaGUgJiYgKG5vdyAtIGFydGljbGVDYWNoZS50aW1lc3RhbXApIDwgQ0FDSEVfVFRMKSB7XG4gICAgICBjb25zb2xlLmxvZyhcIlJldHVybmluZyBjYWNoZWQgYXJ0aWNsZXNcIilcbiAgICAgIGNvbnN0IG9uZVdlZWtBZ28gPSBuZXcgRGF0ZSgpXG4gICAgICBvbmVXZWVrQWdvLnNldERhdGUob25lV2Vla0Fnby5nZXREYXRlKCkgLSA3KVxuICAgICAgXG4gICAgICBjb25zdCByZWNlbnRBcnRpY2xlcyA9IGFydGljbGVDYWNoZS5kYXRhLmZpbHRlcihhcnRpY2xlID0+IHtcbiAgICAgICAgY29uc3QgYXJ0aWNsZURhdGUgPSBuZXcgRGF0ZShhcnRpY2xlLmRhdGUpXG4gICAgICAgIHJldHVybiBhcnRpY2xlRGF0ZSA+PSBvbmVXZWVrQWdvXG4gICAgICB9KVxuICAgICAgXG4gICAgICBjb25zdCBsaW1pdGVkQXJ0aWNsZXMgPSByZWNlbnRBcnRpY2xlcy5zbGljZSgwLCAxNSlcbiAgICAgIFxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgXG4gICAgICAgIGFydGljbGVzOiBsaW1pdGVkQXJ0aWNsZXMsXG4gICAgICAgIHNvdXJjZXM6IHtcbiAgICAgICAgICBuYXNhOiBsaW1pdGVkQXJ0aWNsZXMuZmlsdGVyKGEgPT4gYS5zb3VyY2UgPT09IFwiTkFTQVwiKS5sZW5ndGgsXG4gICAgICAgICAgbmF0Z2VvOiBsaW1pdGVkQXJ0aWNsZXMuZmlsdGVyKGEgPT4gYS5zb3VyY2UgPT09IFwiTmF0aW9uYWwgR2VvZ3JhcGhpY1wiKS5sZW5ndGgsXG4gICAgICAgICAgc3BhY2U6IGxpbWl0ZWRBcnRpY2xlcy5maWx0ZXIoYSA9PiBhLnNvdXJjZSA9PT0gXCJTcGFjZS5jb21cIikubGVuZ3RoXG4gICAgICAgIH0sXG4gICAgICAgIGNhY2hlZDogdHJ1ZSxcbiAgICAgICAgZmlsdGVyZWQ6IHtcbiAgICAgICAgICB0b3RhbDogYXJ0aWNsZUNhY2hlLmRhdGEubGVuZ3RoLFxuICAgICAgICAgIHJlY2VudDogcmVjZW50QXJ0aWNsZXMubGVuZ3RoLFxuICAgICAgICAgIHJldHVybmVkOiBsaW1pdGVkQXJ0aWNsZXMubGVuZ3RoXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfVxuICAgIFxuICAgIGNvbnN0IGFsbEFydGljbGVzOiBBcnRpY2xlW10gPSBbXVxuICAgIGxldCBlcnJvcnM6IHN0cmluZ1tdID0gW11cbiAgICBcbiAgICAvLyBDYWxjdWxhdGUgZGF0ZSByYW5nZSBmb3IgcGFzdCB3ZWVrXG4gICAgY29uc3Qgb25lV2Vla0FnbyA9IG5ldyBEYXRlKClcbiAgICBvbmVXZWVrQWdvLnNldERhdGUob25lV2Vla0Fnby5nZXREYXRlKCkgLSA3KVxuICAgIGNvbnN0IG9uZVdlZWtBZ29JU08gPSBvbmVXZWVrQWdvLnRvSVNPU3RyaW5nKClcbiAgICBcbiAgICBjb25zb2xlLmxvZyhgRmlsdGVyaW5nIGFydGljbGVzIGZyb20gcGFzdCB3ZWVrOiAke29uZVdlZWtBZ29JU099IG9ud2FyZHNgKVxuICAgIFxuICAgIC8vIFRyeSB0byBzY3JhcGUgTkFTQSBhcnRpY2xlc1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBuYXNhQXJ0aWNsZXMgPSBhd2FpdCBzY3JhcGVOYXNhTmV3cygpXG4gICAgICBjb25zb2xlLmxvZyhgTkFTQSBOZXdzIEFQSTogU3VjY2Vzc2Z1bGx5IHNjcmFwZWQgJHtuYXNhQXJ0aWNsZXMubGVuZ3RofSBhcnRpY2xlc2ApXG4gICAgICBhbGxBcnRpY2xlcy5wdXNoKC4uLm5hc2FBcnRpY2xlcylcbiAgICB9IGNhdGNoIChuYXNhRXJyb3IpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiTkFTQSBOZXdzIEFQSTogU2NyYXBpbmcgZmFpbGVkOlwiLCAobmFzYUVycm9yIGFzIEVycm9yKS5tZXNzYWdlKVxuICAgICAgZXJyb3JzLnB1c2goXCJOQVNBIHNjcmFwaW5nIGZhaWxlZFwiKVxuICAgIH1cbiAgICBcbiAgICAvLyBUcnkgdG8gc2NyYXBlIE5hdGlvbmFsIEdlb2dyYXBoaWMgYXJ0aWNsZXNcbiAgICB0cnkge1xuICAgICAgY29uc3QgbmF0Z2VvQXJ0aWNsZXMgPSBhd2FpdCBzY3JhcGVOYXRHZW9TcGFjZSgpXG4gICAgICBjb25zb2xlLmxvZyhgTmF0aW9uYWwgR2VvZ3JhcGhpYyBBUEk6IFN1Y2Nlc3NmdWxseSBzY3JhcGVkICR7bmF0Z2VvQXJ0aWNsZXMubGVuZ3RofSBhcnRpY2xlc2ApXG4gICAgICBhbGxBcnRpY2xlcy5wdXNoKC4uLm5hdGdlb0FydGljbGVzKVxuICAgIH0gY2F0Y2ggKG5hdGdlb0Vycm9yKSB7XG4gICAgICBjb25zb2xlLmxvZyhcIk5hdGlvbmFsIEdlb2dyYXBoaWMgQVBJOiBTY3JhcGluZyBmYWlsZWQ6XCIsIChuYXRnZW9FcnJvciBhcyBFcnJvcikubWVzc2FnZSlcbiAgICAgIGVycm9ycy5wdXNoKFwiTmF0aW9uYWwgR2VvZ3JhcGhpYyBzY3JhcGluZyBmYWlsZWRcIilcbiAgICB9XG4gICAgXG4gICAgLy8gVHJ5IHRvIHNjcmFwZSBTcGFjZS5jb20gYXJ0aWNsZXNcbiAgICB0cnkge1xuICAgICAgY29uc3Qgc3BhY2VBcnRpY2xlcyA9IGF3YWl0IHNjcmFwZVNwYWNlTmV3cygpXG4gICAgICBjb25zb2xlLmxvZyhgU3BhY2UgTmV3cyBBUEk6IFN1Y2Nlc3NmdWxseSBzY3JhcGVkICR7c3BhY2VBcnRpY2xlcy5sZW5ndGh9IGFydGljbGVzYClcbiAgICAgIGFsbEFydGljbGVzLnB1c2goLi4uc3BhY2VBcnRpY2xlcylcbiAgICB9IGNhdGNoIChzcGFjZUVycm9yKSB7XG4gICAgICBjb25zb2xlLmxvZyhcIlNwYWNlIE5ld3MgQVBJOiBTY3JhcGluZyBmYWlsZWQ6XCIsIChzcGFjZUVycm9yIGFzIEVycm9yKS5tZXNzYWdlKVxuICAgICAgZXJyb3JzLnB1c2goXCJTcGFjZS5jb20gc2NyYXBpbmcgZmFpbGVkXCIpXG4gICAgfVxuICAgIFxuICAgIC8vIElmIHdlIGhhdmUgYXJ0aWNsZXMgZnJvbSBlaXRoZXIgc291cmNlLCBmaWx0ZXIgYW5kIHJldHVybiB0aGVtXG4gICAgaWYgKGFsbEFydGljbGVzLmxlbmd0aCA+IDApIHtcbiAgICAgIC8vIEZpbHRlciBhcnRpY2xlcyB0byBvbmx5IGluY2x1ZGUgdGhvc2UgZnJvbSB0aGUgcGFzdCB3ZWVrXG4gICAgICBjb25zdCByZWNlbnRBcnRpY2xlcyA9IGFsbEFydGljbGVzLmZpbHRlcihhcnRpY2xlID0+IHtcbiAgICAgICAgY29uc3QgYXJ0aWNsZURhdGUgPSBuZXcgRGF0ZShhcnRpY2xlLmRhdGUpXG4gICAgICAgIHJldHVybiBhcnRpY2xlRGF0ZSA+PSBvbmVXZWVrQWdvXG4gICAgICB9KVxuICAgICAgXG4gICAgICBjb25zb2xlLmxvZyhgRmlsdGVyZWQgJHthbGxBcnRpY2xlcy5sZW5ndGh9IGFydGljbGVzIGRvd24gdG8gJHtyZWNlbnRBcnRpY2xlcy5sZW5ndGh9IGZyb20gcGFzdCB3ZWVrYClcbiAgICAgIFxuICAgICAgLy8gU29ydCBieSBkYXRlIChuZXdlc3QgZmlyc3QpXG4gICAgICByZWNlbnRBcnRpY2xlcy5zb3J0KChhLCBiKSA9PiBuZXcgRGF0ZShiLmRhdGUpLmdldFRpbWUoKSAtIG5ldyBEYXRlKGEuZGF0ZSkuZ2V0VGltZSgpKVxuICAgICAgXG4gICAgICAvLyBMaW1pdCB0byB0b3AgMTUgYXJ0aWNsZXMgZm9yIGZhc3RlciBsb2FkaW5nXG4gICAgICBjb25zdCBsaW1pdGVkQXJ0aWNsZXMgPSByZWNlbnRBcnRpY2xlcy5zbGljZSgwLCAxNSlcbiAgICAgIFxuICAgICAgLy8gVXBkYXRlIGNhY2hlXG4gICAgICBhcnRpY2xlQ2FjaGUgPSB7XG4gICAgICAgIGRhdGE6IGFsbEFydGljbGVzLFxuICAgICAgICB0aW1lc3RhbXA6IG5vd1xuICAgICAgfVxuICAgICAgXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBcbiAgICAgICAgYXJ0aWNsZXM6IGxpbWl0ZWRBcnRpY2xlcyxcbiAgICAgICAgc291cmNlczoge1xuICAgICAgICAgIG5hc2E6IGxpbWl0ZWRBcnRpY2xlcy5maWx0ZXIoYSA9PiBhLnNvdXJjZSA9PT0gXCJOQVNBXCIpLmxlbmd0aCxcbiAgICAgICAgICBuYXRnZW86IGxpbWl0ZWRBcnRpY2xlcy5maWx0ZXIoYSA9PiBhLnNvdXJjZSA9PT0gXCJOYXRpb25hbCBHZW9ncmFwaGljXCIpLmxlbmd0aCxcbiAgICAgICAgICBzcGFjZTogbGltaXRlZEFydGljbGVzLmZpbHRlcihhID0+IGEuc291cmNlID09PSBcIlNwYWNlLmNvbVwiKS5sZW5ndGhcbiAgICAgICAgfSxcbiAgICAgICAgZXJyb3JzOiBlcnJvcnMubGVuZ3RoID4gMCA/IGVycm9ycyA6IHVuZGVmaW5lZCxcbiAgICAgICAgZmlsdGVyZWQ6IHtcbiAgICAgICAgICB0b3RhbDogYWxsQXJ0aWNsZXMubGVuZ3RoLFxuICAgICAgICAgIHJlY2VudDogcmVjZW50QXJ0aWNsZXMubGVuZ3RoLFxuICAgICAgICAgIHJldHVybmVkOiBsaW1pdGVkQXJ0aWNsZXMubGVuZ3RoXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfVxuICAgIFxuICAgIC8vIElmIGJvdGggc2NyYXBpbmcgYXR0ZW1wdHMgZmFpbGVkLCB1c2UgZmFsbGJhY2sgYXJ0aWNsZXNcbiAgICBjb25zb2xlLmxvZyhcIkJvdGggc2NyYXBpbmcgYXR0ZW1wdHMgZmFpbGVkLCB1c2luZyBmYWxsYmFjayBhcnRpY2xlc1wiKVxuICAgIGNvbnN0IGZhbGxiYWNrV2l0aE5vdGUgPSBmYWxsYmFja1NwYWNlQXJ0aWNsZXMubWFwKGFydGljbGUgPT4gKHtcbiAgICAgIC4uLmFydGljbGUsXG4gICAgICBzdW1tYXJ5OiBgJHthcnRpY2xlLnN1bW1hcnl9IChOb3RlOiBMaXZlIGZlZWRzIHRlbXBvcmFyaWx5IHVuYXZhaWxhYmxlKWAsXG4gICAgfSkpXG4gICAgXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgXG4gICAgICBhcnRpY2xlczogZmFsbGJhY2tXaXRoTm90ZSxcbiAgICAgIG5vdGU6IFwiVXNpbmcgZmFsbGJhY2sgc3BhY2UgYXJ0aWNsZXMgLSBsaXZlIHNjcmFwaW5nIHRlbXBvcmFyaWx5IHVuYXZhaWxhYmxlXCIsXG4gICAgICBlcnJvcnM6IGVycm9yc1xuICAgIH0pXG4gICAgXG4gIH0gY2F0Y2ggKGVycm9yOiB1bmtub3duKSB7XG4gICAgY29uc29sZS5lcnJvcihcIlNwYWNlIE5ld3MgQVBJOiBGYXRhbCBlcnJvcjpcIiwgZXJyb3IpXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgeyBlcnJvcjogKGVycm9yIGFzIEVycm9yKS5tZXNzYWdlID8/IFwiRmFpbGVkIHRvIGxvYWQgc3BhY2UgYXJ0aWNsZXMuXCIgfSxcbiAgICAgIHsgc3RhdHVzOiA1MDAgfSxcbiAgICApXG4gIH1cbn1cblxuXG4iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiY2hlZXJpbyIsImFydGljbGVDYWNoZSIsIkNBQ0hFX1RUTCIsImV4dHJhY3ROYXRHZW9JbWFnZXMiLCJodG1sIiwiJCIsImxvYWQiLCJpbWFnZVVybHMiLCJkaXZzIiwiZWFjaCIsIl8iLCJkaXYiLCJzdHlsZSIsImF0dHIiLCJtYXRjaCIsImltZ1NyYyIsInN0YXJ0c1dpdGgiLCJwdXNoIiwiZ2VuZXJhdGVJZEZyb21MaW5rIiwibGluayIsImVuY29kZVVSSUNvbXBvbmVudCIsIk1hdGgiLCJyYW5kb20iLCJ0b1N0cmluZyIsInNsaWNlIiwic2NyYXBlTmFzYU5ld3MiLCJ5ZWFyIiwidXJsIiwiaGVhZGVycyIsImFjY2VwdCIsInJlZmVyZXIiLCJjb25zb2xlIiwibG9nIiwicmVzIiwiZmV0Y2giLCJjYWNoZSIsIm9rIiwiRXJyb3IiLCJzdGF0dXMiLCJ0ZXh0IiwibGVuZ3RoIiwicmVzdWx0cyIsImkiLCJpdGVtIiwiZXEiLCIkaXRlbSIsImlubmVyIiwiZmluZCIsImxpbmtFbCIsInRpdGxlRWwiLCJ0aXRsZSIsInRyaW0iLCJzdW1tYXJ5RWwiLCJzdW1tYXJ5IiwiYXJ0aWNsZURhdGUiLCJEYXRlIiwidG9JU09TdHJpbmciLCJkYXRlU2VsZWN0b3JzIiwiZGF0ZVNlbGVjdG9yIiwiZGF0ZUVsIiwiZmlyc3QiLCJkYXRlU3RyIiwicGFyc2VkRGF0ZSIsImlzTmFOIiwiZ2V0VGltZSIsIm5hc2FEYXRlTWF0Y2giLCJtb250aCIsImRheSIsInVybERhdGVNYXRjaCIsInVybERhdGUiLCJwYXJzZUludCIsInRpdGxlRGF0ZU1hdGNoIiwidGl0bGVEYXRlIiwiZGF5c0FnbyIsImZhbGxiYWNrRGF0ZSIsInNldERhdGUiLCJnZXREYXRlIiwic2V0RnVsbFllYXIiLCJpbWFnZVVybCIsInRodW1ibmFpbExpbmtzIiwiYWxsSW1hZ2VzIiwidGh1bWJuYWlsTGluayIsImltZ0VsIiwibmFzYUltYWdlcyIsImZsb29yIiwiYXJ0aWNsZSIsImlkIiwiY29udGVudCIsImRhdGUiLCJzb3VyY2UiLCJhcnRpY2xlUmVzcG9uc2UiLCJhcnRpY2xlSHRtbCIsIiRhcnRpY2xlIiwiaW5jbHVkZXMiLCJpbWFnZVNlbGVjdG9ycyIsImltZ1NlbGVjdG9yIiwiYXJ0aWNsZUVycm9yIiwiZXJyb3IiLCJzY3JhcGVOYXRHZW9TcGFjZSIsImV4dHJhY3RlZEltYWdlcyIsImpvaW4iLCJ0aWxlIiwiJHRpbGUiLCJwcm9tb0xpbmtzIiwib2xkUHJvbW9MaW5rcyIsImFsbExpbmtzIiwiYmFja2dyb3VuZERpdnMiLCJzcGVjaWZpY0JhY2tncm91bmREaXZzIiwiYWx0QmFja2dyb3VuZERpdnMiLCJyZWd1bGFySW1hZ2VzIiwiYmFja2dyb3VuZERpdiIsInN1YnN0cmluZyIsImJnTWF0Y2giLCIkZGl2IiwibmF0Z2VvSW1hZ2VzIiwibmF0Z2VvRGF0ZU1hdGNoIiwiYWxsVGV4dCIsImRhdGVQYXR0ZXJucyIsInBhdHRlcm4iLCJtYXRjaGVzIiwic2NyYXBlU3BhY2VOZXdzIiwidXJscyIsInNlbGVjdG9ycyIsInNlbGVjdG9yIiwiZWwiLCIkZWwiLCJ0aXRsZUxpbmsiLCJpcyIsInNwbGl0IiwicGFyZW50Iiwic3BhY2VJbWFnZXMiLCJsb3dlclRpdGxlIiwidG9Mb3dlckNhc2UiLCJyZXBsYWNlIiwiZmFsbGJhY2tTcGFjZUFydGljbGVzIiwibm93IiwiR0VUIiwicmVxdWVzdCIsInRpbWVzdGFtcCIsIm9uZVdlZWtBZ28iLCJyZWNlbnRBcnRpY2xlcyIsImRhdGEiLCJmaWx0ZXIiLCJsaW1pdGVkQXJ0aWNsZXMiLCJqc29uIiwiYXJ0aWNsZXMiLCJzb3VyY2VzIiwibmFzYSIsImEiLCJuYXRnZW8iLCJzcGFjZSIsImNhY2hlZCIsImZpbHRlcmVkIiwidG90YWwiLCJyZWNlbnQiLCJyZXR1cm5lZCIsImFsbEFydGljbGVzIiwiZXJyb3JzIiwib25lV2Vla0Fnb0lTTyIsIm5hc2FBcnRpY2xlcyIsIm5hc2FFcnJvciIsIm1lc3NhZ2UiLCJuYXRnZW9BcnRpY2xlcyIsIm5hdGdlb0Vycm9yIiwic3BhY2VBcnRpY2xlcyIsInNwYWNlRXJyb3IiLCJzb3J0IiwiYiIsInVuZGVmaW5lZCIsImZhbGxiYWNrV2l0aE5vdGUiLCJtYXAiLCJub3RlIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/api/nasa/route.ts\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fnasa%2Froute&page=%2Fapi%2Fnasa%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fnasa%2Froute.ts&appDir=C%3A%5CUsers%5Cmails%5CCosmic-News-1%5Castro-news%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cmails%5CCosmic-News-1%5Castro-news&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fnasa%2Froute&page=%2Fapi%2Fnasa%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fnasa%2Froute.ts&appDir=C%3A%5CUsers%5Cmails%5CCosmic-News-1%5Castro-news%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cmails%5CCosmic-News-1%5Castro-news&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_mails_Cosmic_News_1_astro_news_app_api_nasa_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/nasa/route.ts */ \"(rsc)/./app/api/nasa/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/nasa/route\",\n        pathname: \"/api/nasa\",\n        filename: \"route\",\n        bundlePath: \"app/api/nasa/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\mails\\\\Cosmic-News-1\\\\astro-news\\\\app\\\\api\\\\nasa\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_mails_Cosmic_News_1_astro_news_app_api_nasa_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIvaW5kZXguanM/bmFtZT1hcHAlMkZhcGklMkZuYXNhJTJGcm91dGUmcGFnZT0lMkZhcGklMkZuYXNhJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGbmFzYSUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNtYWlscyU1Q0Nvc21pYy1OZXdzLTElNUNhc3Ryby1uZXdzJTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1DJTNBJTVDVXNlcnMlNUNtYWlscyU1Q0Nvc21pYy1OZXdzLTElNUNhc3Ryby1uZXdzJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUErRjtBQUN2QztBQUNxQjtBQUNxQjtBQUNsRztBQUNBO0FBQ0E7QUFDQSx3QkFBd0IseUdBQW1CO0FBQzNDO0FBQ0EsY0FBYyxrRUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLHNEQUFzRDtBQUM5RDtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUMwRjs7QUFFMUYiLCJzb3VyY2VzIjpbIiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiQzpcXFxcVXNlcnNcXFxcbWFpbHNcXFxcQ29zbWljLU5ld3MtMVxcXFxhc3Ryby1uZXdzXFxcXGFwcFxcXFxhcGlcXFxcbmFzYVxcXFxyb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvbmFzYS9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL25hc2FcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL25hc2Evcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCJDOlxcXFxVc2Vyc1xcXFxtYWlsc1xcXFxDb3NtaWMtTmV3cy0xXFxcXGFzdHJvLW5ld3NcXFxcYXBwXFxcXGFwaVxcXFxuYXNhXFxcXHJvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgd29ya0FzeW5jU3RvcmFnZSwgd29ya1VuaXRBc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgd29ya0FzeW5jU3RvcmFnZSxcbiAgICAgICAgd29ya1VuaXRBc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCB3b3JrQXN5bmNTdG9yYWdlLCB3b3JrVW5pdEFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fnasa%2Froute&page=%2Fapi%2Fnasa%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fnasa%2Froute.ts&appDir=C%3A%5CUsers%5Cmails%5CCosmic-News-1%5Castro-news%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cmails%5CCosmic-News-1%5Castro-news&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "../app-render/after-task-async-storage.external":
/*!***********************************************************************************!*\
  !*** external "next/dist/server/app-render/after-task-async-storage.external.js" ***!
  \***********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/after-task-async-storage.external.js");

/***/ }),

/***/ "../app-render/work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("buffer");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "node:assert":
/*!******************************!*\
  !*** external "node:assert" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:assert");

/***/ }),

/***/ "node:async_hooks":
/*!***********************************!*\
  !*** external "node:async_hooks" ***!
  \***********************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:async_hooks");

/***/ }),

/***/ "node:buffer":
/*!******************************!*\
  !*** external "node:buffer" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:buffer");

/***/ }),

/***/ "node:console":
/*!*******************************!*\
  !*** external "node:console" ***!
  \*******************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:console");

/***/ }),

/***/ "node:crypto":
/*!******************************!*\
  !*** external "node:crypto" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:crypto");

/***/ }),

/***/ "node:diagnostics_channel":
/*!*******************************************!*\
  !*** external "node:diagnostics_channel" ***!
  \*******************************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:diagnostics_channel");

/***/ }),

/***/ "node:dns":
/*!***************************!*\
  !*** external "node:dns" ***!
  \***************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:dns");

/***/ }),

/***/ "node:events":
/*!******************************!*\
  !*** external "node:events" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:events");

/***/ }),

/***/ "node:fs/promises":
/*!***********************************!*\
  !*** external "node:fs/promises" ***!
  \***********************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:fs/promises");

/***/ }),

/***/ "node:http":
/*!****************************!*\
  !*** external "node:http" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:http");

/***/ }),

/***/ "node:http2":
/*!*****************************!*\
  !*** external "node:http2" ***!
  \*****************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:http2");

/***/ }),

/***/ "node:net":
/*!***************************!*\
  !*** external "node:net" ***!
  \***************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:net");

/***/ }),

/***/ "node:path":
/*!****************************!*\
  !*** external "node:path" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:path");

/***/ }),

/***/ "node:perf_hooks":
/*!**********************************!*\
  !*** external "node:perf_hooks" ***!
  \**********************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:perf_hooks");

/***/ }),

/***/ "node:querystring":
/*!***********************************!*\
  !*** external "node:querystring" ***!
  \***********************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:querystring");

/***/ }),

/***/ "node:sqlite":
/*!******************************!*\
  !*** external "node:sqlite" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:sqlite");

/***/ }),

/***/ "node:stream":
/*!******************************!*\
  !*** external "node:stream" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:stream");

/***/ }),

/***/ "node:timers":
/*!******************************!*\
  !*** external "node:timers" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:timers");

/***/ }),

/***/ "node:tls":
/*!***************************!*\
  !*** external "node:tls" ***!
  \***************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:tls");

/***/ }),

/***/ "node:util":
/*!****************************!*\
  !*** external "node:util" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:util");

/***/ }),

/***/ "node:util/types":
/*!**********************************!*\
  !*** external "node:util/types" ***!
  \**********************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:util/types");

/***/ }),

/***/ "node:worker_threads":
/*!**************************************!*\
  !*** external "node:worker_threads" ***!
  \**************************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:worker_threads");

/***/ }),

/***/ "node:zlib":
/*!****************************!*\
  !*** external "node:zlib" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:zlib");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "string_decoder":
/*!*********************************!*\
  !*** external "string_decoder" ***!
  \*********************************/
/***/ ((module) => {

"use strict";
module.exports = require("string_decoder");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/undici","vendor-chunks/iconv-lite","vendor-chunks/parse5","vendor-chunks/cheerio","vendor-chunks/css-select","vendor-chunks/entities","vendor-chunks/domutils","vendor-chunks/htmlparser2","vendor-chunks/whatwg-mimetype","vendor-chunks/nth-check","vendor-chunks/cheerio-select","vendor-chunks/whatwg-encoding","vendor-chunks/encoding-sniffer","vendor-chunks/domhandler","vendor-chunks/dom-serializer","vendor-chunks/css-what","vendor-chunks/parse5-parser-stream","vendor-chunks/parse5-htmlparser2-tree-adapter","vendor-chunks/domelementtype","vendor-chunks/safer-buffer","vendor-chunks/boolbase"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fnasa%2Froute&page=%2Fapi%2Fnasa%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fnasa%2Froute.ts&appDir=C%3A%5CUsers%5Cmails%5CCosmic-News-1%5Castro-news%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cmails%5CCosmic-News-1%5Castro-news&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();